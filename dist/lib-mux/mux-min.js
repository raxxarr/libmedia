!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LibMux=e():t.LibMux=e()}(self,(()=>(()=>{var t={4315:(t,e,r)=>{"use strict";r.d(e,{fG:()=>c});var i=r(134),n=r(5017),s=r(1517);class o{constructor(){(0,i.A)(this,"packetBuffer",void 0),this.packetBuffer=[]}}class a{constructor(){(0,i.A)(this,"metadataHeaderPadding",-1),(0,i.A)(this,"metadata",void 0),(0,i.A)(this,"streams",void 0),(0,i.A)(this,"options",void 0),(0,i.A)(this,"privateData",void 0),(0,i.A)(this,"processPrivateData",void 0),(0,i.A)(this,"iformat",void 0),(0,i.A)(this,"oformat",void 0),(0,i.A)(this,"ioReader",void 0),(0,i.A)(this,"ioWriter",void 0),(0,i.A)(this,"errorFlag",void 0),(0,i.A)(this,"interval",void 0),(0,i.A)(this,"streamIndex",void 0),(0,i.A)(this,"getDecoderResource",null),this.streams=[],this.errorFlag=0,this.streamIndex=0,this.interval=new o,this.options={},this.privateData={},this.metadata={}}get format(){return this.iformat?this.iformat.type:this.oformat?this.oformat.type:-1}getStreamById(t){return this.streams.find((e=>e.id===t))}getStreamByIndex(t){return this.streams.find((e=>e.index===t))}getStreamByMediaType(t){return this.streams.find((e=>{var r;return(null===(r=e.codecpar)||void 0===r?void 0:r.codecType)===t}))}createStream(){const t=new n.A;return t.index=this.streamIndex++,t.id=t.index,this.removeStreamByIndex(t.index),this.streams.push(t),t}addStream(t){this.removeStreamByIndex(t.index),this.streams.push(t)}removeStream(t){this.removeStreamByIndex(t.index)}removeStreamById(t){const e=this.streams.findIndex((e=>e.id===t));if(e>-1){const t=this.streams.splice(e,1);t[0]&&t[0].destroy()}}removeStreamByIndex(t){const e=this.streams.findIndex((e=>e.index===t));if(e>-1){const t=this.streams.splice(e,1);t[0]&&t[0].destroy()}}destroy(){this.oformat&&this.oformat.destroy(this),this.iformat&&this.iformat.destroy(this),this.interval.packetBuffer.length&&this.interval.packetBuffer.forEach((t=>{(0,s.Qe)(t)})),this.streams.forEach((t=>{t.destroy()})),this.streams=[],this.interval=null,this.ioReader=this.ioWriter=null,this.oformat=this.iformat=null}}function c(){return new a}},5017:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(134),n=r(662),s=r.n(n),o=r(4503),a=r(4300),c=r(7162),f=r(7231),u=r(9599);class h{constructor(){(0,i.A)(this,"index",f.N_),(0,i.A)(this,"id",f.N_),(0,i.A)(this,"privData",null),(0,i.A)(this,"codecpar",(0,o.A)(c.A,new c.A)),(0,i.A)(this,"sideData",{}),(0,i.A)(this,"nbFrames",BigInt(0)),(0,i.A)(this,"metadata",{}),(0,i.A)(this,"duration",f.Dh),(0,i.A)(this,"startTime",f.Dh),(0,i.A)(this,"firstDTS",BigInt(0)),(0,i.A)(this,"disposition",0),(0,i.A)(this,"timeBase",(0,o.A)(u.P)),(0,i.A)(this,"sampleIndexes",[]),(0,i.A)(this,"sampleIndexesPosMap",new(s()))}destroy(){this.codecpar&&(this.codecpar.destroy(),(0,a.A)(this.codecpar),this.codecpar=null),this.timeBase&&((0,a.A)(this.timeBase),this.timeBase=null),this.sampleIndexes.length=0,this.sampleIndexesPosMap.clear()}}},4436:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var i=r(134),n=r(3939),s=r(7837),o=r(1766);class a{constructor(){(0,i.A)(this,"inCodecpar",void 0),(0,i.A)(this,"inTimeBase",void 0),(0,i.A)(this,"outCodecpar",void 0)}init(t,e){return this.inCodecpar=(0,s.Gy)(168),(0,o.Yi)(this.inCodecpar,t),this.inTimeBase={den:n.f[15](e+4),num:n.f[15](e)},0}destroy(){this.inCodecpar&&((0,o.dn)(this.inCodecpar),this.inCodecpar=0)}}},9848:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(134),n=r(3939),s=r(4436),o=r(8469),a=r(4686),c=r(1517),f=r(7837),u=r(9705);class h extends s.A{constructor(...t){super(...t),(0,i.A)(this,"cache",void 0),(0,i.A)(this,"cached",void 0)}init(t,e){return super.init(t,e),this.cache=(0,c._5)(),0}destroy(){super.destroy(),(0,c.Qe)(this.cache),this.cache=0,this.cached=!1}sendAVPacket(t){if(!n.f[20](t+24)||!n.f[15](t+28))return;const e=7+n.f[15](t+28),r=(0,f.sY)(e),i=(0,a.s3)(r,e);i[0]=255,i[1]=240,i[1]|=8,i[1]|=1,i[2]=(n.f[15](this.inCodecpar+48)-1&3)<<6,i[2]|=(15&o.Hm[n.f[15](this.inCodecpar+136)])<<2,i[2]|=(4&n.f[15](this.inCodecpar+116))>>2,i[3]=(3&n.f[15](this.inCodecpar+116))<<6,i[3]|=i.length>>11&3,i[4]=i.length>>3&255,i[5]=(7&i.length)<<5,i[5]|=31,i[6]=252,i.set((0,a.s3)(n.f[20](t+24),n.f[15](t+28)),7),(0,c.zu)(this.cache,t),(0,c.NX)(this.cache,r,e),this.cached=!0}receiveAVPacket(t){return this.cached?((0,c.Up)(t),(0,c.rN)(t,this.cache),this.cached=!1,0):u.LT}}},480:(t,e,r)=>{"use strict";r.d(e,{A:()=>g});var i=r(134),n=r(3939),s=r(932),o=r(4436),a=r(8469),c=r(4686),f=r(1517),u=r(7837),h=r(9705),l=r(5335),d=r(3314);const p={mod:20},A=new Uint8Array([86,224,0]);class g extends o.A{constructor(t={}){super(),(0,i.A)(this,"cache",void 0),(0,i.A)(this,"cached",void 0),(0,i.A)(this,"bitWriter",void 0),(0,i.A)(this,"counter",void 0),(0,i.A)(this,"options",void 0),this.options=l.X$({},p,t)}init(t,e){return super.init(t,e),this.cache=(0,f._5)(),this.cached=!1,this.counter=0,this.bitWriter=new d.A,0}destroy(){super.destroy(),(0,f.Qe)(this.cache),this.cache=0}writeHeader(){this.bitWriter.writeU1(0===this.counter?0:1),0===this.counter&&(this.bitWriter.writeU1(0),this.bitWriter.writeU1(1),this.bitWriter.writeU(6,0),this.bitWriter.writeU(4,0),this.bitWriter.writeU(3,0),this.bitWriter.writeU(5,n.f[15](this.inCodecpar+48)-1&31),this.bitWriter.writeU(4,15&a.Hm[n.f[15](this.inCodecpar+136)]),this.bitWriter.writeU(4,15&n.f[15](this.inCodecpar+116)),this.bitWriter.writeU(3,0),this.bitWriter.writeU(3,0),this.bitWriter.writeU(8,255),this.bitWriter.writeU1(0),this.bitWriter.writeU1(0)),this.counter++,this.counter%=this.options.mod}copyBytes(t){for(let e=0;e<t.length;e++)this.bitWriter.writeU(8,t[e])}sendAVPacket(t){if(!n.f[20](t+24)||!n.f[15](t+28))return;this.bitWriter.clear();const e=(0,f.rU)(t,1);if(e){const{profile:t,sampleRate:r,channels:i}=(0,a._5)((0,c.s3)(n.f[20](e),n.f[15](e+4)));s.M[15](this.inCodecpar+48,t),s.M[15](this.inCodecpar+136,r),s.M[15](this.inCodecpar+116,i),this.counter=0}this.writeHeader();let r=0;for(;r<=n.f[15](t+28)-255;r+=255)this.bitWriter.writeU(8,255);this.bitWriter.writeU(8,n.f[15](t+28)-r);const i=(0,c.s3)(n.f[20](t+24),n.f[15](t+28));129==(225&i[0])?(this.bitWriter.writeU(8,254&i[0]),this.copyBytes(i.subarray(1))):this.copyBytes(i),this.bitWriter.padding();const o=this.bitWriter.getPointer(),h=3+o,l=(0,u.sY)(h),d=(0,c.s3)(l,h);d.set(A,0),d[1]|=o>>8&31,d[2]|=255&o,d.set(this.bitWriter.getBuffer().subarray(0,o),3),(0,f.zu)(this.cache,t),(0,f.NX)(this.cache,l,h),this.cached=!0}receiveAVPacket(t){return this.cached?((0,f.Up)(t),(0,f.rN)(t,this.cache),this.cached=!1,0):h.LT}}},2251:(t,e,r)=>{"use strict";r.d(e,{A:()=>A});var i=r(134),n=r(3939),s=r(932),o=r(4436),a=r(1517),c=r(620),f=r(3e3),u=r(5611),h=r(9705),l=r(264),d=r(4624),p=r(4686);class A extends o.A{constructor(...t){super(...t),(0,i.A)(this,"cache",void 0),(0,i.A)(this,"cached",void 0)}init(t,e){return super.init(t,e),this.cache=(0,a._5)(),this.cached=!1,0}destroy(){super.destroy(),(0,a.Qe)(this.cache),this.cache=0}sendAVPacket(t){const e=(0,p.JW)(n.f[20](t+24),n.f[15](t+28));if(2===n.f[15](t+80)||(0,l.Bs)(e))(0,a.rN)(this.cache,t);else{let r;(0,a.zu)(this.cache,t);const i=(0,a.rU)(t,1);let o=null;i&&(o=(0,p.JW)(n.f[20](i),n.f[15](i+4))),27===n.f[15](this.inCodecpar+4)?r=c.OD(e,o):173===n.f[15](this.inCodecpar+4)?r=f.OD(e,o):196===n.f[15](this.inCodecpar+4)?r=u.OD(e,o):d.h2(`not support for codecId: ${n.f[15](this.inCodecpar+4)}`,"src/avformat/bsf/h2645/Avcc2AnnexbFilter.ts",92),s.M[15](this.cache+80,2),(0,a.NX)(this.cache,r.bufferPointer,r.length),r.key&&s.M[15](this.cache+36,1|n.f[15](this.cache+36))}return this.cached=!0,0}receiveAVPacket(t){return this.cached?((0,a.Up)(t),(0,a.rN)(t,this.cache),this.cached=!1,0):h.LR}}},7662:(t,e,r)=>{"use strict";r.d(e,{A:()=>h});var i=r(134),n=r(3939),s=r(4436),o=r(4686),a=r(1517),c=r(7837),f=r(9705),u=r(5451);class h extends s.A{constructor(...t){super(...t),(0,i.A)(this,"cache",void 0),(0,i.A)(this,"cached",void 0),(0,i.A)(this,"opusPendingTrimStart",void 0)}init(t,e){return super.init(t,e),this.cache=(0,a._5)(),this.cached=!1,this.opusPendingTrimStart=48e3*(n.f[15](this.inCodecpar+148)>0?n.f[15](this.inCodecpar+148):0)/n.f[15](this.inCodecpar+136),0}destroy(){super.destroy(),(0,a.Qe)(this.cache),this.cache=0}sendAVPacket(t){if(!n.f[20](t+24)||!n.f[15](t+28))return;const e=(0,o.s3)(n.f[20](t+24),n.f[15](t+28)),r=u.kt(e);let i=null;const s=(0,a.rU)(t,11);s&&(i=(0,o.s3)(n.f[20](s),n.f[15](s+4)));let f=0;i&&i.length>=10&&(f=48e3*(i[4]<<24|i[5]<<16|i[6]<<8|i[9])/n.f[15](this.inCodecpar+136));let h=e.length+2+e.length/255+1;this.opusPendingTrimStart&&(h+=2),f&&(h+=2);const l=(0,c.sY)(h),d=(0,o.s3)(l,h);d[0]=127,d[1]=224,this.opusPendingTrimStart&&(d[1]|=16),f&&(d[1]|=8);let p=e.length,A=2;do{d[A]=Math.min(p,255),p-=255,A++}while(p>=0);let g=0;return this.opusPendingTrimStart&&(g=Math.min(this.opusPendingTrimStart,r),d[A]=(65280&g)>>8,d[A+1]=255&g,A+=2,this.opusPendingTrimStart-=g),f&&(f=Math.min(f,r-g),d[A]=(65280&f)>>8,d[A+1]=255&f,A+=2),d.set(e,A),(0,a.zu)(this.cache,t),(0,a.NX)(this.cache,l,h),this.cached=!0,0}receiveAVPacket(t){return this.cached?((0,a.Up)(t),(0,a.rN)(t,this.cache),this.cached=!1,0):f.LR}}},8469:(t,e,r)=>{"use strict";r.d(e,{Hm:()=>n,_5:()=>a});var i=r(7231);const n={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},s=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,i.N_,i.N_,i.N_],o=[i.N_,1,2,3,4,5,6,7];function a(t){let e=i.N_,r=i.N_,n=i.N_;var a,c;return t.length>=2&&(e=t[0]>>3&31,r=null!==(a=s[(7&t[0])<<1|t[1]>>7])&&void 0!==a?a:48e3,n=null!==(c=o[t[1]>>3&15])&&void 0!==c?c:2),{profile:e,sampleRate:r,channels:n}}},620:(t,e,r)=>{"use strict";r.d(e,{OD:()=>f});var i=r(2739),n=r(729),s=r(1865),o=r(4686),a=r(7837);const c=3;function f(t,e){const r=e?3&e[4]:c;let f=[],u=[],h=[],l=!1;if(e){const t=function(t){const e=new s.A(t);e.skip(5);const r=[],i=[],n=[],o=31&e.readUint8();for(let t=0;t<o;t++){const t=e.readUint16();r.push(e.readBuffer(t))}const a=e.readUint8();for(let t=0;t<a;t++){const t=e.readUint16();i.push(e.readBuffer(t))}if(e.remainingSize()>4){e.skip(3);const t=e.readUint8();if(t>0)for(let r=0;r<t;r++){const t=e.readUint16();n.push(e.readBuffer(t))}}return{spss:r,ppss:i,spsExts:n}}(e);f=t.spss,u=t.ppss,h=t.spsExts,l=!0}const d=[],p=[],A=new s.A(t);for(;A.remainingSize()>0;){let e=0;e=3===r?A.readUint32():2===r?A.readUint24():1===r?A.readUint16():A.readUint8();const i=t.subarray(0|Number(0xffffffffn&A.getPos()),(0|Number(0xffffffffn&A.getPos()))+e);A.skip(e);const n=31&i[0];6===n?p.push(i):9!==n&&d.push(i)}let g=f.reduce(((t,e)=>t+4+e.length),0);g=u.reduce(((t,e)=>t+4+e.length),g),g=h.reduce(((t,e)=>t+4+e.length),g),g=p.reduce(((t,e)=>t+4+e.length),g),g=d.reduce(((t,e,r)=>t+(r?3:4)+e.length),g);const m=(0,a.sY)(g+6),y=new n.A((0,o.s3)(m,g+6));return y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeUint8(9),y.writeUint8(240),i.__(p,(t=>{y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t)})),i.__(f,(t=>{y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t)})),i.__(u,(t=>{y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t)})),i.__(h,(t=>{y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t)})),i.__(d,((t,e)=>{y.writeUint8(0),y.writeUint8(0),e||y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t),5==(31&t[0])&&(l=!0)})),{bufferPointer:m,length:g+6,key:l}}},3e3:(t,e,r)=>{"use strict";r.d(e,{OD:()=>f});var i=r(2739),n=r(729),s=r(1865),o=r(4686),a=r(7837);const c=3;function f(t,e){const r=e?3&e[21]:c;let f=[],u=[],h=[],l=!1;if(e){const t=function(t){const e=new s.A(t,!0);e.skip(22);let r=[],i=[],n=[];const o=e.readUint8();for(let t=0;t<o;t++){const t=63&e.readUint8(),s=e.readUint16(),o=[];for(let t=0;t<s;t++){const t=e.readUint16();o.push(e.readBuffer(t))}32===t?r=o:33===t?i=o:34===t&&(n=o)}return{vpss:r,spss:i,ppss:n}}(e);f=t.vpss,u=t.spss,h=t.ppss,l=!0}const d=[],p=new s.A(t);for(;p.remainingSize()>0;){let t=0;t=3===r?p.readUint32():2===r?p.readUint24():1===r?p.readUint16():p.readUint8(),d.push(p.readBuffer(t))}let A=f.reduce(((t,e)=>t+4+e.length),0);A=u.reduce(((t,e)=>t+4+e.length),A),A=h.reduce(((t,e)=>t+4+e.length),A),A=d.reduce(((t,e,r)=>t+(r?3:4)+e.length),A);const g=(0,a.sY)(A+7),m=(0,o.s3)(g,A+7),y=new n.A(m);return y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeUint8(70),y.writeUint8(0),y.writeUint8(240),i.__(f,(t=>{y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t)})),i.__(u,(t=>{y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t)})),i.__(h,(t=>{y.writeUint8(0),y.writeUint8(0),y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t)})),i.__(d,((t,e)=>{y.writeUint8(0),y.writeUint8(0),e||y.writeUint8(0),y.writeUint8(1),y.writeBuffer(t);const r=t[0]>>>1&63;19!==r&&20!==r&&21!==r||(l=!0)})),{bufferPointer:g,length:A+7,key:l}}},5451:(t,e,r)=>{"use strict";r.d(e,{kt:()=>n});const i=[480,960,1920,2880,480,960,1920,2880,480,960,1920,2880,480,960,480,960,120,240,480,960,120,240,480,960,120,240,480,960,120,240,480,960];function n(t){let e=0,r=0,n=0;if(t.length<1)return 0;switch(e=t[0],r=i[e>>3],3&e){case 0:n=1;break;case 1:case 2:n=2;break;case 3:if(t.length<2)return 0;n=63&t[1]}return n*r}},5611:(t,e,r)=>{"use strict";r.d(e,{OD:()=>u});var i=r(2739),n=r(729),s=r(1865),o=r(7246),a=r(4686),c=r(7837);const f=3;function u(t,e){const r=e?e[0]>>>1&3:f;let u=[],h=[],l=[],d=!1;if(e){const t=function(t){const e=new s.A(t,!0);if(1&e.readUint8()){const r=new o.A;r.appendBuffer(t.subarray(1)),function(t){t.readU(9);const e=t.readU(3);t.readU(2),t.readU(2),t.readU(3);t.readU(5),t.readU(2);const r=t.readU(6),i=(t.readU(7),t.readU(1),t.readU(8),t.readU(1),t.readU(1),[]),n=[];if(r){for(let e=0;e<r-1;e++)i[e]=t.readU(8);i[r-1]=t.readU(6)}else t.readU(6);if(e>1){let r=0;for(let i=e-2;i>=0;--i)r|=t.readU(1)<<i;for(let r=e;r<=8&&e>1;++r)t.readU(1);for(let i=e-2;i>=0;--i)r&1<<i&&(n[i]=t.readU(8))}const s=t.readU(8),o=[];if(s)for(let e=0;e<s;e++)o.push(t.readU(8));t.readU(16),t.readU(16),t.readU(16)}(r),e.skip(r.getPos())}let r=[],i=[],n=[];const a=e.readUint8();for(let t=0;t<a;t++){const t=31&e.readUint8();let s=1;13!==t&&12!==t&&(s=e.readUint16());const o=[];for(let t=0;t<s;t++){const t=e.readUint16();o.push(e.readBuffer(t))}14===t?r=o:15===t?i=o:16===t&&(n=o)}return{vpss:r,spss:i,ppss:n}}(e);u=t.vpss,h=t.spss,l=t.ppss,d=!0}const p=[],A=new s.A(t);for(;A.remainingSize()>0;){let t=0;t=3===r?A.readUint32():2===r?A.readUint24():1===r?A.readUint16():A.readUint8(),p.push(A.readBuffer(t))}let g=u.reduce(((t,e)=>t+4+e.length),0);g=h.reduce(((t,e)=>t+4+e.length),g),g=l.reduce(((t,e)=>t+4+e.length),g),g=p.reduce(((t,e,r)=>t+(r?3:4)+e.length),g);const m=(0,c.sY)(g+7),y=(0,a.s3)(m,g+7),v=new n.A(y);return v.writeUint8(0),v.writeUint8(0),v.writeUint8(0),v.writeUint8(1),v.writeUint8(0),v.writeUint8(160),v.writeUint8(240),i.__(u,(t=>{v.writeUint8(0),v.writeUint8(0),v.writeUint8(0),v.writeUint8(1),v.writeBuffer(t)})),i.__(h,(t=>{v.writeUint8(0),v.writeUint8(0),v.writeUint8(0),v.writeUint8(1),v.writeBuffer(t)})),i.__(l,(t=>{v.writeUint8(0),v.writeUint8(0),v.writeUint8(0),v.writeUint8(1),v.writeBuffer(t)})),i.__(p,((t,e)=>{v.writeUint8(0),v.writeUint8(0),e||v.writeUint8(0),v.writeUint8(1),v.writeBuffer(t);const r=t[0]>>>1&63;8!==r&&7!==r&&9!==r&&10!==r||(d=!0)})),{bufferPointer:m,length:g+7,key:d}}},548:(t,e,r)=>{"use strict";r.d(e,{L_:()=>a,eG:()=>o}),r(9736);var i=r(5335),n=r(2751);function s(t,e,r="unknown"){let n=r;return i.__(t,((t,r)=>{if(e===t)return n=r,!1})),n}function o(t,e){return 1===t?s(n.n1,e):0===t?s(n._R,e):"unknown"}function a(t){return s(n.iW,t)}},1597:(t,e,r)=>{"use strict";r.d(e,{A:()=>n,E:()=>s});var i=r(134);class n{constructor(){(0,i.A)(this,"type",-1)}destroy(t){}}const s={9:[86018],7:[86017,86019,86018,12,27],11:[86028],0:[86017,86018,86051,69645,86049,65543,65542,12,27,173,225,167,196],4:[139,167],5:[86021,86076,86018,86017,86028,86032,86020,86056,65557,65537,65536,139,167,225,27,173,196,12,94226],6:[86021,86076,139,167,225,94226],1:[86021,86076,86018,86017,86028,86051,86019,167,225,27,173,196,12,94226,94213],8:[86017],2:[86076,86018,86017,86019,,86020,86065,86056,12,225,27,173,196],3:[86021],10:[],12:[94226]}},5597:(t,e,r)=>{"use strict";r.d(e,{A:()=>P});var i=r(134),n=r(1499),s=r(3939),o=r(9599),a=r(9170),c=r(9770),f=r(6403),u=r(1597),h=r(469),l=r(2739),d=r(5335),p=r(6538),A=r(9848),g=r(480),m=r(7662),y=r(2251),v=r(7231),w=r(4686),b=r(4328),x=r(1517),I=r(7837),U=r(4624),_="src/avformat/formats/OMpegtsFormat.ts";const S={pesMaxSize:2930,delay:1.4,latm:!1,patPeriod:.1};class P extends u.A{constructor(t={}){super(),(0,i.A)(this,"type",2),(0,i.A)(this,"context",void 0),(0,i.A)(this,"sdtPacket",void 0),(0,i.A)(this,"patPacket",void 0),(0,i.A)(this,"pmtPacket",void 0),(0,i.A)(this,"options",void 0),(0,i.A)(this,"firstDtsCheck",void 0),(0,i.A)(this,"firstVideoCheck",void 0),(0,i.A)(this,"lastPatDst",void 0),(0,i.A)(this,"patPeriod",void 0),this.context=(0,c.A)(),this.options=d.X$({},S,t),this.options.pesMaxSize=this.options.pesMaxSize?(this.options.pesMaxSize+14+183)/184*184-14:0,this.firstDtsCheck=!1,this.firstVideoCheck=!1,this.patPeriod=BigInt(Math.floor(this.options.patPeriod*v.SF))}init(t){return t.ioWriter.setEndian(!0),0}destroy(t){super.destroy(t),l.__(t.streams,(t=>{const e=t.privData;e.filter&&(e.filter.destroy(),e.filter=null)}))}writeHeader(t){return this.context.pat=new f.Cd,this.context.pat.program2PmtPid.set(1,4096),this.context.pmt=new f.I4,this.context.pmt.programNumber=1,l.__(t.streams,(t=>{t.timeBase.den=9e4,t.timeBase.num=1;const e=this.context.startPid++;this.context.pmt.pcrPid<=0&&(this.context.pmt.pcrPid=e);let r=h.Zp(t);const i=(0,p.A)();t.privData=i;const s=new f.am;s.pid=e,s.adaptationFieldControl=1,i.tsPacket=s,i.pid=e;let o=null;switch(r){case 15:this.options.latm?(i.latm=!0,r=17,o=new g.A):o=new A.A;break;case 27:case 36:o=new y.A;break;case 6:86076===t.codecpar.codecId&&(o=new m.A)}o&&o.init(t.codecpar[n.o9],t.timeBase[n.o9]),i.filter=o,this.context.pmt.pid2StreamType.set(e,r);const a=new f.xf;a.pid=e,a.streamType=r,a.streamId=h.kw(t),i.pes=a})),this.patPacket=new f.yU,this.pmtPacket=new f.yU,this.sdtPacket=new f.yU,this.sdtPacket.pid=17,this.sdtPacket.adaptationFieldControl=1,this.patPacket.pid=0,this.patPacket.adaptationFieldControl=1,this.pmtPacket.pid=4096,this.pmtPacket.adaptationFieldControl=1,this.sdtPacket.payload=h.Gj(),this.patPacket.payload=h.sG(this.context.pat),this.pmtPacket.payload=h.in(this.context.pmt,t.streams),h.Zn(t.ioWriter,this.sdtPacket,this.context),h.Zn(t.ioWriter,this.patPacket,this.context),h.Zn(t.ioWriter,this.pmtPacket,this.context),0}writeAVPacket(t,e){if(!s.f[15](e+28))return void U.R8(`packet's size is 0: ${s.f[15](e+32)}, ignore it`,_,211);const r=t.getStreamByIndex(s.f[15](e+32));if(!r)return void U.R8(`can not found the stream width the packet's streamIndex: ${s.f[15](e+32)}, ignore it`,_,218);this.firstDtsCheck||((0,b.k)(s.f[17](e+16),(0,a.A)(e+72,o.P),r.timeBase)<BigInt(Math.floor(9e4*this.options.delay))&&(this.context.delay=BigInt(Math.floor(9e4*this.options.delay))-(0,b.k)(s.f[17](e+16),(0,a.A)(e+72,o.P),r.timeBase)),this.firstDtsCheck=!0,this.lastPatDst=(0,b.k)(s.f[17](e+16),(0,a.A)(e+72,o.P),v.KR)),this.patPeriod>BigInt(0)&&(0,b.k)(s.f[17](e+16),(0,a.A)(e+72,o.P),v.KR)-this.lastPatDst>this.patPeriod&&(h.Zn(t.ioWriter,this.sdtPacket,this.context),h.Zn(t.ioWriter,this.patPacket,this.context),h.Zn(t.ioWriter,this.pmtPacket,this.context),this.lastPatDst=(0,b.k)(s.f[17](e+16),(0,a.A)(e+72,o.P),v.KR));const i=r.privData;let n=(0,x.iI)(e);if(i.filter){if(!this.firstVideoCheck&&!(0,x.fQ)(e,1)&&r.codecpar.extradata&&(27===r.codecpar.codecId||173===r.codecpar.codecId||196===r.codecpar.codecId||12===r.codecpar.codecId)){this.firstVideoCheck=!0;const t=(0,I.sY)(r.codecpar.extradataSize);(0,w.Mr)(t,r.codecpar.extradata,r.codecpar.extradataSize),(0,x.Ow)(e,1,t,r.codecpar.extradataSize)}i.filter.sendAVPacket(e),i.filter.receiveAVPacket(e),n=(0,x.iI)(e)}if(!n.length)return 0;n=n.slice();let c=!1;return(i.pesSlices.total+n.length>this.options.pesMaxSize||0===r.codecpar.codecType)&&(0===i.pesSlices.total&&(i.pesSlices.total=n.length,i.pesSlices.buffers.push(n),s.f[17](e+16)!==v.Dh&&(i.pes.dts=(0,b.k)(s.f[17](e+16),(0,a.A)(e+72,o.P),r.timeBase)+this.context.delay),s.f[17](e+8)!==v.Dh&&(i.pes.pts=(0,b.k)(s.f[17](e+8),(0,a.A)(e+72,o.P),r.timeBase)+this.context.delay),c=!0),1&s.f[15](e+36)&&(i.pes.randomAccessIndicator=1),h.CE(t.ioWriter,i.pes,i.pesSlices,r,this.context),i.pesSlices.total=0,i.pesSlices.buffers=[]),c||(0===i.pesSlices.total&&(s.f[17](e+16)!==v.Dh&&(i.pes.dts=(0,b.k)(s.f[17](e+16),(0,a.A)(e+72,o.P),r.timeBase)+this.context.delay),s.f[17](e+8)!==v.Dh&&(i.pes.pts=(0,b.k)(s.f[17](e+8),(0,a.A)(e+72,o.P),r.timeBase)+this.context.delay),1&s.f[15](e+36)&&(i.pes.randomAccessIndicator=1)),i.pesSlices.total+=n.length,i.pesSlices.buffers.push(n)),0}writeTrailer(t){return l.__(t.streams,(e=>{const r=e.privData;r.pesSlices.total&&h.CE(t.ioWriter,r.pes,r.pesSlices,e,this.context),r.pesSlices.total=0,r.pesSlices.buffers=[]})),t.ioWriter.flush(),0}flush(t){return t.ioWriter.flush(),0}}},762:(t,e,r)=>{"use strict";function i(t){let e=4294967295;for(let r=0;r<t.length;r++){e^=t[r]<<24;for(let t=0;t<8;t++)2147483648&e?e=e<<1^79764919:e<<=1}return e>>>0}r.d(e,{E:()=>i})},9770:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var i=r(662),n=r.n(i),s=r(7231),o=r(6403);function a(){return{currentProgram:s.N_,currentPmtPid:s.N_,tsPacketSize:s.N_,hasPAT:!1,hasPMT:!1,tsSliceQueueMap:new(n()),pat:new o.Cd,pmt:new o.I4,program2Pmt:new(n()),ioEnd:!1,startPid:256,delay:BigInt(0)}}},6538:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(7231);function n(){return{pid:i.N_,filter:null,tsPacket:null,pes:null,continuityCounter:0,pesSlices:{total:0,buffers:[]},latm:!1}}},7274:(t,e,r)=>{"use strict";r.d(e,{OS:()=>o,VG:()=>n,ZT:()=>s,eR:()=>i,qJ:()=>a});const i=204,n=192,s=188,o=5,a=10},469:(t,e,r)=>{"use strict";r.d(e,{CE:()=>v,Gj:()=>g,Zn:()=>w,Zp:()=>l,in:()=>A,kw:()=>d,sG:()=>p});var i=r(3939),n=r(7274),s=r(4624),o=r(5977),a=r(2647),c=r(7231),f=r(762),u="src/avformat/formats/mpegts/ompegts.ts";function h(t){if(2!==t.adaptationFieldControl&&3!==t.adaptationFieldControl)return 0;if(2===t.adaptationFieldControl)return n.ZT-4;let e=2;return t.adaptationFieldInfo.pcrFlag&&(e+=6),t.adaptationFieldInfo.opcrFlag&&(e+=6),t.adaptationFieldInfo.splicingPointFlag&&(e+=1),t.adaptationFieldInfo.transportPrivateDataFlag&&(e+=t.adaptationFieldInfo.transportPrivateData?t.adaptationFieldInfo.transportPrivateData.length:0),t.adaptationFieldInfo.adaptationFieldExtensionFlag&&(e+=t.adaptationFieldInfo.extension?t.adaptationFieldInfo.extension.length:0),e>256&&s.R8("adaptationField size is too large",u,68),e}function l(t){const e=t.privData||{};switch(t.codecpar.codecId){case 1:case 2:return 2;case 12:return 16;case 27:return 27;case 87:return 66;case 173:return 36;case 196:return 51;case 116:return 209;case 70:return 234;case 86016:case 86017:return t.codecpar.sampleRate<32e3?4:3;case 86018:return e.latm?17:15;case 86065:return 17;case 86019:return 129;case 86076:case 225:case 94209:case 98311:default:return 6;case 86060:return 131;case 86056:return 135;case 86020:return 130}}function d(t){return 0===t.codecpar.codecType?116===t.codecpar.codecId?253:224:1!==t.codecpar.codecType||86016!==t.codecpar.codecId&&86017!==t.codecpar.codecId&&86018!==t.codecpar.codecId?1===t.codecpar.codecType&&86019===t.codecpar.codecId?253:2===t.codecpar.codecType?252:189:192}function p(t){const e=new Uint8Array(1024);e[1]=0,e[2]=176,e[5]=1,e[6]=193;let r=9;t.networkPid>-1&&(r+=2,e[r++]=224|t.networkPid>>8&31,e[r++]=255&t.networkPid),t.program2PmtPid.forEach(((t,i)=>{e[r++]=i>>8&255,e[r++]=255&i,e[r++]=224|t>>8&31,e[r++]=255&t}));const i=r;r+=4;for(let t=r;t<n.ZT-4;t++)e[t]=255;const s=r-1-3;e[2]|=s>>8&15,e[3]=255&s;const o=(0,f.E)(e.subarray(1,i));return e[i]=o>>24&255,e[i+1]=o>>16&255,e[i+2]=o>>8&255,e[i+3]=255&o,e.slice(0,n.ZT-4)}function A(t,e){const r=new Uint8Array(1024);r[1]=2,r[2]=176,r[4]=t.programNumber>>8&15,r[5]=255&t.programNumber,r[6]=193;let s=9;r[s++]=224|t.pcrPid>>8&31,r[s++]=255&t.pcrPid;const a=s;function c(t){r[s++]=n.OS,r[s++]=4,r[s++]=t>>24,r[s++]=t>>16,r[s++]=t>>8,r[s++]=t}s+=2;let u=61440|s-a-2;r[a]=u>>8,r[a+1]=u;for(let t=0;t<e.length;t++){const a=l(e[t]);r[s++]=a;const f=e[t].privData;r[s++]=224|f.pid>>8&31,r[s++]=255&f.pid;const u=s;s+=2;const h=e[t].codecpar.codecId;switch(e[t].codecpar.codecType){case 1:86019===h&&c((0,o.A)("AC-3")),86056===h&&c((0,o.A)("EAC3")),65562===h&&c((0,o.A)("BSSD")),86076===h&&(c((0,o.A)("Opus")),r[s++]=127,r[s++]=2,r[s++]=128,r[s++]=e[t].codecpar.chLayout.nbChannels),r[s++]=n.qJ,r[s++]=4,r[s++]=117,r[s++]=110,r[s++]=100,r[s++]=0;break;case 0:if(225===h&&(c((0,o.A)("AV01")),e[t].codecpar.extradata)){r[s++]=128,r[s++]=e[t].codecpar.extradataSize;for(let n=0;n<e[t].codecpar.extradataSize;n++)r[s++]=i.f[2](e[t].codecpar.extradata+n)}}let d=61440|s-u-2;r[u]=d>>8,r[u+1]=d}const h=s;s+=4;for(let t=s;t<n.ZT-4;t++)r[t]=255;u=s-1-3,r[2]|=u>>8&15,r[3]=255&u;const d=(0,f.E)(r.subarray(1,h));return r[h]=d>>24&255,r[h+1]=d>>16&255,r[h+2]=d>>8&255,r[h+3]=255&d,r.slice(0,n.ZT-4)}function g(){const t=new Uint8Array(1024);t[1]=66,t[2]=240,t[5]=1,t[6]=193;let e=9;t[e++]=255,t[e++]=1,t[e++]=255,t[e++]=0,t[e++]=1,t[e++]=252;const r=e;e+=2,t[e++]=72;const i=e++;t[e++]=1;t[e++]=9;for(let r=0;r<9;r++)t[e]="format-js".charCodeAt(r),e++;t[e++]=9;for(let r=0;r<9;r++)t[e]="Service01".charCodeAt(r),e++;t[i]=e-i-1;let s=32768|e-r-2;t[r]=s>>8&255,t[r+1]=255&s;const o=e;e+=4;for(let r=e;r<n.ZT-4;r++)t[r]=255;const a=e-1-3;t[2]|=a>>8&15,t[3]=255&a;const c=(0,f.E)(t.subarray(1,o));return t[o]=c>>24&255,t[o+1]=c>>16&255,t[o+2]=c>>8&255,t[o+3]=255&c,t.slice(0,n.ZT-4)}function m(t,e,r){var i;r.tsPacketSize===n.VG&&t.skip(4),e.payload&&0!==e.payload.length||(e.adaptationFieldControl=2),1===e.adaptationFieldControl&&e.payload.length+4<n.ZT&&(e.adaptationFieldControl=3);const o=t.getPos();t.writeUint8(71);let a=0;e.payloadUnitStartIndicator&&(a|=64),a|=e.transportPriority<<5,a|=e.pid>>8,t.writeUint8(a),t.writeUint8(255&e.pid),a=(3&e.transportScramblingControl)<<6,a|=(3&e.adaptationFieldControl)<<4,a|=15&e.continuityCounter,t.writeUint8(a);let c=h(e),f=n.ZT-4-c;if(null!==(i=e.payload)&&void 0!==i&&i.length&&(f-=e.payload.length),2===e.adaptationFieldControl||3===e.adaptationFieldControl){const r=t.getPos();if(t.writeUint8(c-1+f),a=(1&e.adaptationFieldInfo.discontinuityIndicator)<<7,a|=(1&e.adaptationFieldInfo.randomAccessIndicator)<<6,a|=(1&e.adaptationFieldInfo.elementaryStreamPriorityIndicator)<<5,a|=(1&e.adaptationFieldInfo.pcrFlag)<<4,a|=(1&e.adaptationFieldInfo.opcrFlag)<<3,a|=(1&e.adaptationFieldInfo.splicingPointFlag)<<2,a|=(1&e.adaptationFieldInfo.transportPrivateDataFlag)<<1,a|=1&e.adaptationFieldInfo.adaptationFieldExtensionFlag,t.writeUint8(a),e.adaptationFieldInfo.pcrFlag){const r=Number(e.adaptationFieldInfo.pcr%BigInt(300)),i=Number((e.adaptationFieldInfo.pcr-BigInt(Math.floor(r)))/BigInt(300));t.writeUint8(i>>25&255),t.writeUint8(i>>17&255),t.writeUint8(i>>9&255),t.writeUint8(i>>1&255),t.writeUint8(i<<7|r>>8|126),t.writeUint8(r)}if(e.adaptationFieldInfo.opcrFlag){const r=Number(e.adaptationFieldInfo.pcr%BigInt(300)),i=Number((e.adaptationFieldInfo.pcr-BigInt(Math.floor(r)))/BigInt(300));t.writeUint8(i>>25&255),t.writeUint8(i>>17&255),t.writeUint8(i>>9&255),t.writeUint8(i>>1&255),t.writeUint8(i<<7|r>>8|126),t.writeUint8(r)}e.adaptationFieldInfo.splicingPointFlag&&t.writeUint8(e.adaptationFieldInfo.spliceCountDown),e.adaptationFieldInfo.transportPrivateDataFlag&&(e.adaptationFieldInfo.transportPrivateData&&e.adaptationFieldInfo.transportPrivateData.length?(t.writeUint8(e.adaptationFieldInfo.transportPrivateData.length),t.writeBuffer(e.adaptationFieldInfo.transportPrivateData)):t.writeUint8(0)),e.adaptationFieldInfo.adaptationFieldExtensionFlag&&(e.adaptationFieldInfo.extension&&e.adaptationFieldInfo.extension.length?(t.writeUint8(e.adaptationFieldInfo.extension.length),t.writeBuffer(e.adaptationFieldInfo.extension)):t.writeUint8(0));const i=Number(t.getPos()-r);for(i<c&&t.skip(c-i);f>0;)t.writeUint8(255),f--}var l;1!==e.adaptationFieldControl&&3!==e.adaptationFieldControl||null!==(l=e.payload)&&void 0!==l&&l.length&&t.writeBuffer(e.payload),Number(t.getPos()-o)!==n.ZT&&s.z3(`write error data size to ts packet, need ${n.ZT}, wrote: ${Number(t.getPos()-o)}`,u,641),r.tsPacketSize===n.eR&&t.skip(16)}function y(t,e,r,i){let n=r<<4|(7&Number(i>>BigInt(30)))<<1|1;t[e++]=n,n=(32767&Number(i>>BigInt(15)))<<1|1,t[e++]=n>>8&255,t[e++]=255&n,n=Number(i&BigInt(32767))<<1|1,t[e++]=n>>8&255,t[e++]=255&n}function v(t,e,r,i,s){const o=e.streamId,f=new Uint8Array(function(t){let e=6;const r=t.streamId;return 188!==r&&190!==r&&191!==r&&240!==r&&241!==r&&255!==r&&242!==r&&248!==r&&(e+=3,t.pts!==c.Dh&&(e+=5),t.dts!==c.Dh&&t.pts!==c.Dh&&t.dts!==t.pts&&(e+=5)),e}(e));f[2]=1,f[3]=o;let u=r.total;if(188!==o&&190!==o&&191!==o&&240!==o&&241!==o&&255!==o&&242!==o&&248!==o){let t=0,r=0;e.pts!==c.Dh&&(r+=5,t|=128),e.dts!==c.Dh&&e.pts!==c.Dh&&e.dts!==e.pts&&(r+=5,t|=64);let n=128;3!==i.codecpar.codecType&&2!==i.codecpar.codecType||(n|=4),f[6]=n,f[7]=t,f[8]=r,u+=r+3,e.pts!==c.Dh&&y(f,9,t>>6,e.pts),e.dts!==c.Dh&&e.pts!==c.Dh&&e.dts!==e.pts&&y(f,14,1,e.dts)}u<=c.zg&&0!==i.codecpar.codecType&&(f[4]=u>>8&255,f[5]=255&u),function(t,e,r,i,s){const o=i.privData,a=o.tsPacket;e.pid===s.pmt.pcrPid&&(a.adaptationFieldControl=3,a.adaptationFieldInfo.pcrFlag=1,a.adaptationFieldInfo.pcr=e.dts*BigInt(300)),a.adaptationFieldInfo.randomAccessIndicator=e.randomAccessIndicator,e.randomAccessIndicator&&(a.adaptationFieldControl=3);let c=h(a),f=o.continuityCounter;if(4+c+r.length<=n.ZT)return a.payloadUnitStartIndicator=1,a.payload=r,a.continuityCounter=f++%16,m(t,a,s),void(o.continuityCounter=f%16);let u=n.ZT-(4+c),l=0;for(;l<r.length;){let e=Math.min(l+u,r.length);a.payloadUnitStartIndicator=0===l?1:0,1===a.adaptationFieldControl&&e-l+4==n.ZT-1&&e--,a.payload=r.subarray(l,e),a.continuityCounter=f++%16,m(t,a,s),0===l&&(a.adaptationFieldInfo.randomAccessIndicator=0,a.adaptationFieldControl=1,a.adaptationFieldInfo.pcrFlag=0,c=h(a),u=n.ZT-(4+c)),l=e}o.continuityCounter=f%16}(t,e,(0,a.A)(Uint8Array,[f,...r.buffers]),i,s)}function w(t,e,r){const i=h(e);let s=e.continuityCounter;if(4+i+e.payload.length<=n.ZT)return e.payloadUnitStartIndicator=1,e.continuityCounter=s++%16,m(t,e,r),void(e.continuityCounter=s%16);const o=n.ZT-(4+i);let a=0;const c=e.payload;for(;a<c.length;){let f=Math.min(a+o,c.length);e.payloadUnitStartIndicator=0===a?1:0;const u=f-a;u+4===n.ZT?e.adaptationFieldControl=1:0===i&&u+4+1===n.ZT&&f--,e.payload=c.subarray(a,f),e.continuityCounter=s++%16,m(t,e,r),a=f}e.continuityCounter=s%16}},6403:(t,e,r)=>{"use strict";r.d(e,{Cd:()=>f,I4:()=>h,am:()=>c,xf:()=>l,yU:()=>u});var i=r(134),n=r(662),s=r.n(n),o=r(7231);class a{constructor(){(0,i.A)(this,"discontinuityIndicator",0),(0,i.A)(this,"randomAccessIndicator",0),(0,i.A)(this,"elementaryStreamPriorityIndicator",0),(0,i.A)(this,"pcrFlag",0),(0,i.A)(this,"opcrFlag",0),(0,i.A)(this,"splicingPointFlag",0),(0,i.A)(this,"transportPrivateDataFlag",0),(0,i.A)(this,"adaptationFieldExtensionFlag",0),(0,i.A)(this,"pcr",BigInt(0)),(0,i.A)(this,"opcr",BigInt(0)),(0,i.A)(this,"spliceCountDown",0),(0,i.A)(this,"transportPrivateData",null),(0,i.A)(this,"extension",null)}}class c{constructor(){(0,i.A)(this,"pos",o.Dh),(0,i.A)(this,"payloadUnitStartIndicator",0),(0,i.A)(this,"transportPriority",0),(0,i.A)(this,"pid",o.N_),(0,i.A)(this,"adaptationFieldControl",0),(0,i.A)(this,"continuityCounter",0),(0,i.A)(this,"transportScramblingControl",0),(0,i.A)(this,"adaptationFieldInfo",new a),(0,i.A)(this,"payload",null)}}class f{constructor(){(0,i.A)(this,"versionNumber",0),(0,i.A)(this,"networkPid",o.N_),(0,i.A)(this,"program2PmtPid",new(s()))}}class u extends c{}class h{constructor(){(0,i.A)(this,"versionNumber",0),(0,i.A)(this,"programNumber",0),(0,i.A)(this,"pcrPid",0),(0,i.A)(this,"pid2StreamType",new(s())),(0,i.A)(this,"pid2ESDescriptor",new(s()))}}class l{constructor(){(0,i.A)(this,"pid",o.N_),(0,i.A)(this,"streamType",0),(0,i.A)(this,"streamId",o.N_),(0,i.A)(this,"dts",o.Dh),(0,i.A)(this,"pts",o.Dh),(0,i.A)(this,"pos",o.Dh),(0,i.A)(this,"payload",null),(0,i.A)(this,"data",null),(0,i.A)(this,"randomAccessIndicator",0)}}},5977:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(4624),n="src/avformat/function/mktag.ts";function s(t){4!==t.length&&i.R8(`tag length is not 4, tag: ${t}`,n,30);let e=0;for(let r=0;r<4;r++)e=e<<8|t.charCodeAt(r);return e}},2174:(t,e,r)=>{"use strict";r.d(e,{XA:()=>m,bX:()=>v,bx:()=>g,dJ:()=>y,ho:()=>A});var i=r(662),n=r.n(i),s=r(3939),o=r(932),a=r(5335),c=r(4624),f=r(1597),u=r(2739),h=r(9705),l=r(548),d="src/avformat/mux.ts";const p={paddingZero:!1};function A(t,e={}){const r=a.X$({},p,e);t.ioWriter||c.h2("need ioWriter",d,52),t.oformat||c.h2("need oformat",d,55),t.options=r,t.processPrivateData={first:new(n())};let i=f.E[t.oformat.type];if(i)for(let e=0;e<t.streams.length;e++){const r=t.streams[e].codecpar.codecId;if(10===t.oformat.type){if(r<65536||r>69683)return c.z3(`format ${(0,l.L_)(t.oformat.type)} not support codecId ${(0,l.eG)(t.streams[e].codecpar.codecType,r)}`,d,71),h.r8}else if(!u.zy(i,r))return c.z3(`format ${(0,l.L_)(t.oformat.type)} not support codecId ${(0,l.eG)(t.streams[e].codecpar.codecType,r)}`,d,76),h.r8}return t.oformat.init(t)}function g(t){return t.oformat.writeHeader(t),0}function m(t,e){const r=t.processPrivateData;return r.first.has(s.f[15](e+32))||(s.f[17](e+16)>BigInt(0)?r.first.set(s.f[15](e+32),s.f[17](e+16)):r.first.set(s.f[15](e+32),BigInt(0))),t.options.paddingZero&&(o.M[17](e+16,s.f[17](e+16)-r.first.get(s.f[15](e+32))),o.M[17](e+8,s.f[17](e+8)-r.first.get(s.f[15](e+32)))),t.oformat.writeAVPacket(t,e)}function y(t){return t.oformat.writeTrailer(t),0}function v(t){t.oformat.flush(t)}},7231:(t,e,r)=>{"use strict";r.d(e,{Dh:()=>n,KR:()=>a,N_:()=>s,SF:()=>o,zg:()=>c});var i=r(9599);const n=-BigInt(1),s=-1,o=1e6,a=new i.P({den:o,num:1}),c=(new i.P({den:1e3,num:1}),new i.P({den:1,num:1}),65535)},9705:(t,e,r)=>{"use strict";r.d(e,{LR:()=>i,LT:()=>n,r8:()=>s});const i=-2,n=-7,s=-8},2751:(t,e,r)=>{"use strict";r.d(e,{_R:()=>i,iW:()=>s,n1:()=>n});const i={copy:0,h264:27,avc:27,hevc:173,h265:173,vvc:196,h266:196,av1:225,vp9:167,vp8:139,mpeg4:12},n={copy:0,aac:86018,mp3:86017,opus:86076,flac:86028,speex:86051,vorbis:86021,g711a:65543,g711u:65542},s={flv:0,mp4:1,mov:1,ts:2,mpegts:2,ivf:4,opus:3,ogg:3,m3u8:2,m3u:2,mpd:1,mp3:8,mkv:5,matroska:5,mka:5,webm:6,aac:9,flac:11,wav:10}},6981:(t,e,r)=>{"use strict";r.d(e,{r:()=>h});var i,n,s=r(134),o=r(662),a=r.n(o),c=r(1499),f=r(2085);class u{constructor(){(0,s.A)(this,"id",void 0),(0,s.A)(this,"name",void 0),(0,s.A)(this,"opaque",void 0)}}i=u.prototype,(n=new(a())).set("id",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),n.set("name",{0:4,1:0,2:0,3:1,4:16,5:0,6:0,7:4,8:0}),n.set("opaque",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:20,8:0}),(0,f.A)(i,c.Og,!0),(0,f.A)(i,c.dc,4),(0,f.A)(i,c.g7,24),(0,f.A)(i,c.JY,n);class h{constructor(){(0,s.A)(this,"order",void 0),(0,s.A)(this,"nbChannels",void 0),(0,s.A)(this,"u",void 0),(0,s.A)(this,"opaque",void 0)}}!function(t){var e=new(a());e.set("order",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),e.set("nbChannels",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:4,8:0}),e.set("u",{0:function(t){var e=new(a());return e.set("mask",{0:10,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),e.set("map",{0:u,1:1,2:1,3:0,4:0,5:0,6:0,7:0,8:0}),(0,f.A)(t,c.Og,!0),(0,f.A)(t,c.dc,8),(0,f.A)(t,c.g7,8),(0,f.A)(t,c.JY,e),t}({}),1:0,2:0,3:0,4:0,5:0,6:0,7:8,8:0}),e.set("opaque",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:16,8:0}),(0,f.A)(t,c.Og,!0),(0,f.A)(t,c.dc,8),(0,f.A)(t,c.g7,24),(0,f.A)(t,c.JY,e)}(h.prototype)},288:(t,e,r)=>{"use strict";r.d(e,{BU:()=>d});var i,n,s,o=r(134),a=r(662),c=r.n(a),f=r(1499),u=r(2085),h=r(3783);class l{constructor(){(0,o.A)(this,"data",0),(0,o.A)(this,"size",0),(0,o.A)(this,"refcount",0),(0,o.A)(this,"free",0),(0,o.A)(this,"opaque",0),(0,o.A)(this,"flags",0),(0,o.A)(this,"flagsInternal",0)}}n=l.prototype,(s=new(c())).set("data",{0:2,1:1,2:1,3:0,4:0,5:0,6:0,7:0,8:0}),s.set("size",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:4,8:0}),s.set("refcount",{0:9,1:0,2:0,3:0,4:0,5:0,6:0,7:8,8:0}),s.set("free",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:12,8:0}),s.set("opaque",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:16,8:0}),s.set("flags",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:20,8:0}),s.set("flagsInternal",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:24,8:0}),(0,u.A)(n,f.Og,!0),(0,u.A)(n,f.dc,4),(0,u.A)(n,f.g7,28),(0,u.A)(n,f.JY,s);class d{constructor(){(0,o.A)(this,"buffer",0),(0,o.A)(this,"data",0),(0,o.A)(this,"size",0)}}!function(t){var e=new(c());e.set("buffer",{0:l,1:1,2:1,3:0,4:0,5:0,6:0,7:0,8:0}),e.set("data",{0:2,1:1,2:1,3:0,4:0,5:0,6:0,7:4,8:0}),e.set("size",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:8,8:0}),(0,u.A)(t,f.Og,!0),(0,u.A)(t,f.dc,4),(0,u.A)(t,f.g7,12),(0,u.A)(t,f.JY,e)}(d.prototype);class p{constructor(){(0,o.A)(this,"mutex",void 0),(0,o.A)(this,"pool",0),(0,o.A)(this,"refcount",0),(0,o.A)(this,"size",0),(0,o.A)(this,"opaque",0),(0,o.A)(this,"alloc",0),(0,o.A)(this,"alloc2",0),(0,o.A)(this,"poolFree",0)}}!function(t){var e=new(c());e.set("mutex",{0:h.eu,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),e.set("pool",{0:i,1:1,2:1,3:0,4:0,5:0,6:0,7:4,8:0}),e.set("refcount",{0:9,1:0,2:0,3:0,4:0,5:0,6:0,7:8,8:0}),e.set("size",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:12,8:0}),e.set("opaque",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:16,8:0}),e.set("alloc",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:20,8:0}),e.set("alloc2",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:24,8:0}),e.set("poolFree",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:28,8:0}),(0,u.A)(t,f.Og,!0),(0,u.A)(t,f.dc,4),(0,u.A)(t,f.g7,32),(0,u.A)(t,f.JY,e)}(p.prototype);class A{constructor(){(0,o.A)(this,"data",0),(0,o.A)(this,"opaque",0),(0,o.A)(this,"free",0),(0,o.A)(this,"pool",0),(0,o.A)(this,"next",0),(0,o.A)(this,"buffer",void 0)}}!function(t){var e=new(c());e.set("data",{0:2,1:1,2:1,3:0,4:0,5:0,6:0,7:0,8:0}),e.set("opaque",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:4,8:0}),e.set("free",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:8,8:0}),e.set("pool",{0:p,1:1,2:1,3:0,4:0,5:0,6:0,7:12,8:0}),e.set("next",{0:A,1:1,2:1,3:0,4:0,5:0,6:0,7:16,8:0}),e.set("buffer",{0:l,1:0,2:0,3:0,4:0,5:0,6:0,7:20,8:0}),(0,u.A)(t,f.Og,!0),(0,u.A)(t,f.dc,4),(0,u.A)(t,f.g7,48),(0,u.A)(t,f.JY,e)}(A.prototype),i=A},7162:(t,e,r)=>{"use strict";r.d(e,{A:()=>A});var i,n,s=r(134),o=r(662),a=r.n(o),c=r(1499),f=r(2085),u=r(7958),h=r(9599),l=r(6981),d=r(7231),p=r(1766);class A{constructor(){(0,s.A)(this,"codecType",-1),(0,s.A)(this,"codecId",0),(0,s.A)(this,"codecTag",0),(0,s.A)(this,"extradata",0),(0,s.A)(this,"extradataSize",0),(0,s.A)(this,"codedSideData",0),(0,s.A)(this,"nbCodedSideData",0),(0,s.A)(this,"format",d.N_),(0,s.A)(this,"bitRate",BigInt(0)),(0,s.A)(this,"bitsPerCodedSample",0),(0,s.A)(this,"bitsPerRawSample",0),(0,s.A)(this,"profile",d.N_),(0,s.A)(this,"level",d.N_),(0,s.A)(this,"width",0),(0,s.A)(this,"height",0),(0,s.A)(this,"sampleAspectRatio",new h.P({den:1,num:1})),(0,s.A)(this,"framerate",new h.P({den:1,num:0})),(0,s.A)(this,"fieldOrder",0),(0,s.A)(this,"colorRange",0),(0,s.A)(this,"colorPrimaries",2),(0,s.A)(this,"colorTrc",2),(0,s.A)(this,"colorSpace",2),(0,s.A)(this,"chromaLocation",0),(0,s.A)(this,"videoDelay",0),(0,s.A)(this,"chLayout",void 0),(0,s.A)(this,"sampleRate",d.N_),(0,s.A)(this,"blockAlign",0),(0,s.A)(this,"frameSize",0),(0,s.A)(this,"initialPadding",0),(0,s.A)(this,"trailingPadding",0),(0,s.A)(this,"seekPreroll",0),(0,s.A)(this,"bitFormat",0)}destroy(){(0,p.dn)(this[c.o9]),this[c.o9]=0}}i=A.prototype,(n=new(a())).set("codecType",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),n.set("codecId",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:4,8:0}),n.set("codecTag",{0:8,1:0,2:0,3:0,4:0,5:0,6:0,7:8,8:0}),n.set("extradata",{0:2,1:1,2:1,3:0,4:0,5:0,6:0,7:12,8:0}),n.set("extradataSize",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:16,8:0}),n.set("codedSideData",{0:u.lg,1:1,2:1,3:0,4:0,5:0,6:0,7:20,8:0}),n.set("nbCodedSideData",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:24,8:0}),n.set("format",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:28,8:0}),n.set("bitRate",{0:17,1:0,2:0,3:0,4:0,5:0,6:0,7:32,8:0}),n.set("bitsPerCodedSample",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:40,8:0}),n.set("bitsPerRawSample",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:44,8:0}),n.set("profile",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:48,8:0}),n.set("level",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:52,8:0}),n.set("width",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:56,8:0}),n.set("height",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:60,8:0}),n.set("sampleAspectRatio",{0:h.P,1:0,2:0,3:0,4:0,5:0,6:0,7:64,8:0}),n.set("framerate",{0:h.P,1:0,2:0,3:0,4:0,5:0,6:0,7:72,8:0}),n.set("fieldOrder",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:80,8:0}),n.set("colorRange",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:84,8:0}),n.set("colorPrimaries",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:88,8:0}),n.set("colorTrc",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:92,8:0}),n.set("colorSpace",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:96,8:0}),n.set("chromaLocation",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:100,8:0}),n.set("videoDelay",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:104,8:0}),n.set("chLayout",{0:l.r,1:0,2:0,3:0,4:0,5:0,6:0,7:112,8:0}),n.set("sampleRate",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:136,8:0}),n.set("blockAlign",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:140,8:0}),n.set("frameSize",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:144,8:0}),n.set("initialPadding",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:148,8:0}),n.set("trailingPadding",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:152,8:0}),n.set("seekPreroll",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:156,8:0}),n.set("bitFormat",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:160,8:0}),(0,f.A)(i,c.Og,!0),(0,f.A)(i,c.dc,8),(0,f.A)(i,c.g7,168),(0,f.A)(i,c.JY,n)},7958:(t,e,r)=>{"use strict";r.d(e,{lg:()=>d});var i,n,s=r(134),o=r(662),a=r.n(o),c=r(1499),f=r(2085),u=r(288),h=r(9599),l=r(7231);class d{constructor(){(0,s.A)(this,"data",0),(0,s.A)(this,"size",l.N_),(0,s.A)(this,"type",-1)}}i=d.prototype,(n=new(a())).set("data",{0:2,1:1,2:1,3:0,4:0,5:0,6:0,7:0,8:0}),n.set("size",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:4,8:0}),n.set("type",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:8,8:0}),(0,f.A)(i,c.Og,!0),(0,f.A)(i,c.dc,4),(0,f.A)(i,c.g7,12),(0,f.A)(i,c.JY,n);class p{constructor(){(0,s.A)(this,"buf",0),(0,s.A)(this,"pts",l.Dh),(0,s.A)(this,"dts",l.Dh),(0,s.A)(this,"data",0),(0,s.A)(this,"size",0),(0,s.A)(this,"streamIndex",l.N_),(0,s.A)(this,"flags",0),(0,s.A)(this,"sideData",0),(0,s.A)(this,"sideDataElems",0),(0,s.A)(this,"duration",l.Dh),(0,s.A)(this,"pos",l.Dh),(0,s.A)(this,"opaque",0),(0,s.A)(this,"opaqueRef",0),(0,s.A)(this,"timeBase",new h.P({den:l.SF,num:1})),(0,s.A)(this,"bitFormat",0)}}!function(t){var e=new(a());e.set("buf",{0:u.BU,1:1,2:1,3:0,4:0,5:0,6:0,7:0,8:0}),e.set("pts",{0:17,1:0,2:0,3:0,4:0,5:0,6:0,7:8,8:0}),e.set("dts",{0:17,1:0,2:0,3:0,4:0,5:0,6:0,7:16,8:0}),e.set("data",{0:2,1:1,2:1,3:0,4:0,5:0,6:0,7:24,8:0}),e.set("size",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:28,8:0}),e.set("streamIndex",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:32,8:0}),e.set("flags",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:36,8:0}),e.set("sideData",{0:d,1:1,2:1,3:0,4:0,5:0,6:0,7:40,8:0}),e.set("sideDataElems",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:44,8:0}),e.set("duration",{0:17,1:0,2:0,3:0,4:0,5:0,6:0,7:48,8:0}),e.set("pos",{0:17,1:0,2:0,3:0,4:0,5:0,6:0,7:56,8:0}),e.set("opaque",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:64,8:0}),e.set("opaqueRef",{0:u.BU,1:1,2:1,3:0,4:0,5:0,6:0,7:68,8:0}),e.set("timeBase",{0:h.P,1:0,2:0,3:0,4:0,5:0,6:0,7:72,8:0}),e.set("bitFormat",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:80,8:0}),(0,f.A)(t,c.Og,!0),(0,f.A)(t,c.dc,8),(0,f.A)(t,c.g7,88),(0,f.A)(t,c.JY,e)}(p.prototype),function(t){var e=new(a());e.set("refCount",{0:16,1:0,2:0,3:0,4:0,5:0,6:0,7:88,8:0}),(0,f.A)(t,c.Og,!0),(0,f.A)(t,c.dc,8),(0,f.A)(t,c.g7,96),(0,f.A)(t,c.JY,e)}(class extends p{constructor(...t){super(...t),(0,s.A)(this,"refCount",void 0)}}.prototype)},9599:(t,e,r)=>{"use strict";r.d(e,{P:()=>u});var i,n,s=r(134),o=r(662),a=r.n(o),c=r(1499),f=r(2085);class u{constructor(t){(0,s.A)(this,"num",1),(0,s.A)(this,"den",1),t&&(this.den=t.den,this.num=t.num)}}i=u.prototype,(n=new(a())).set("num",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),n.set("den",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:4,8:0}),(0,f.A)(i,c.Og,!0),(0,f.A)(i,c.dc,4),(0,f.A)(i,c.g7,8),(0,f.A)(i,c.JY,n)},7815:(t,e,r)=>{"use strict";r.d(e,{A6:()=>g,Q7:()=>p,VG:()=>l,aw:()=>h,us:()=>A});var i=r(4686),n=r(3939),s=r(932),o=r(7837),a=r(46),c=r(3783),f=r(2699);const u=1;function h(t,e,r=0,i=0,n=0){const c=(0,o.Gy)(28);if(!c)return 0;const f=function(t,e,r,i=0,n=0,c=0){s.M[20](t,e),s.M[15](t+4,r),s.M[20](t+12,i),s.M[20](t+16,n),a.M_(t+8,1,9,2),s.M[15](t+20,c);const f=(0,o.Gy)(12);return f?(s.M[20](f,t),s.M[20](f+4,e),s.M[15](f+8,r),f):0}(c,t,e,r,i,n);return f||((0,o.Eb)(c),0)}function l(t){const e=(0,o.Gy)(12);return(0,i.Mr)(e,t,12),a.WQ(n.f[20](t)+8,1,9,2),e}function d(t,e){const r=n.f[20](n.f[20](t));if(e?((0,i.Mr)(n.f[20](t),n.f[20](e),12),(0,o.aI)(e)):(0,o.aI)(t),1===a.jb(r+8,1,9,2)){const t=!(2&n.f[15](r+24));n.f[20](r+16)?m(n.f[20](r+16),n.f[20](r)):(0,o.Eb)(n.f[20](r)),t&&(0,o.Eb)(r)}}function p(t){t&&n.f[20](t)&&d(t,0)}function A(t,e){const r=n.f[20](t);if(!e)return p(t),0;if(r&&n.f[20](r+4)===n.f[20](e+4))return s.M[20](r+4,n.f[20](e+4)),s.M[15](r+8,n.f[15](e+8)),0;const i=l(e);return p(t),s.M[20](t,i),0}function g(t,e){if(!n.f[20](t)){const r=h((0,o.cz)(0,e),e);return s.M[20](t,r),s.M[15](n.f[20](r)+24,n.f[15](n.f[20](r)+24)|u),0}const r=n.f[20](t),c=n.f[20](r);if(n.f[15](r+8)===e)return 0;if(!(n.f[15](c+24)&u&&function(t){return 1&n.f[15](n.f[20](t)+20)?0:1===a.Hh(n.f[20](t)+8,9,2)?1:0}(r)&&n.f[20](r+4)===n.f[20](c))){let r=f.z(4);s.M[20](r,0);const o=g(r,e);return o<0?(f.t(4),o):((0,i.Mr)(n.f[20](n.f[20](r)+4),n.f[20](c),Math.min(e,n.f[15](c+4))),d(t,r),f.t(4),0)}const l=(0,o.cz)(n.f[20](c),e);return s.M[20](r+4,l),s.M[20](c,l),s.M[15](r+8,e),s.M[15](c+4,e),0}function m(t,e){const r=t,i=n.f[20](r+12);c.s2(i),s.M[20](r+16,n.f[20](i+4)),s.M[20](i+4,r),c.Tl(i),1===a.jb(i+8,1,9,2)&&function(t){!function(t){for(;n.f[20](t+4);){const e=n.f[20](t+4);s.M[20](t+4,n.f[20](e+16)),n.f[20](e+4)?m(n.f[20](e+4),n.f[20](e)):(0,o.Eb)(n.f[20](e)),(0,o.Eb)(e)}}(t),c.zr(t),(0,o.Eb)(t)}(i)}},1517:(t,e,r)=>{"use strict";r.d(e,{NX:()=>b,NZ:()=>g,Ow:()=>d,Qe:()=>A,Up:()=>w,_5:()=>p,fQ:()=>l,iI:()=>u,rN:()=>v,rU:()=>h,zu:()=>y});var i=r(4686),n=r(3939),s=r(932),o=r(7837),a=r(7231),c=r(7815);const f=64;function u(t,e){return e?(0,i.JW)(n.f[20](t+24),n.f[15](t+28)):(0,i.s3)(n.f[20](t+24),n.f[15](t+28))}function h(t,e){for(let r=0;r<n.f[15](t+44);r++)if(n.f[15](n.f[20](t+40)+12*r+8)===e)return n.f[20](t+40)+12*r;return 0}function l(t,e){for(let r=0;r<n.f[15](t+44);r++)if(n.f[15](n.f[20](t+40)+12*r+8)===e)return!0;return!1}function d(t,e,r,a){for(let i=0;i<n.f[15](t+44);i++)if(n.f[15](n.f[20](t+40)+12*i+8)===e)return(0,o.Eb)(n.f[20](n.f[20](t+40)+12*i)),s.M[20](n.f[20](t+40)+12*i,r),void s.M[15](n.f[20](t+40)+12*i+4,a);const c=12*(n.f[15](t+44)+1),f=(0,o.Gy)(c);if(n.f[15](t+44))for(let e=0;e<n.f[15](t+44);e++)(0,i.Mr)(f+12*e,n.f[20](t+40)+12*e,12);const u=f+12*n.f[15](t+44);s.M[20](u,r),s.M[15](u+8,e),s.M[15](u+4,a),n.f[20](t+40)&&(0,o.Eb)(n.f[20](t+40)),s.M[20](t+40,f),s.M[15](t+44,n.f[15](t+44)+1)}function p(){const t=(0,o.Gy)(88);return m(t),t}function A(t){w(t),(0,o.Eb)(t)}function g(t,e){const r=n.f[20](t),i=n.f[15](e);if(r){for(let t=0;t<i;t++)(0,o.Eb)(n.f[20](r+12*t));(0,o.aI)(t),s.M[15](e,0)}}function m(t){s.M[20](t+24,0),s.M[15](t+28,0),s.M[20](t+40,0),s.M[15](t+44,0),s.M[15](t+32,a.N_),s.M[17](t+56,a.Dh),s.M[17](t+48,a.Dh),s.M[15](t+36,0),s.M[17](t+16,a.Dh),s.M[17](t+8,a.Dh),s.M[15](t+76,a.SF),s.M[15](t+72,1),s.M[15](t+80,0),s.M[20](t,0)}function y(t,e){return s.M[15](t+32,n.f[15](e+32)),s.M[17](t+56,n.f[17](e+56)),s.M[17](t+48,n.f[17](e+48)),s.M[15](t+36,n.f[15](e+36)),s.M[17](t+16,n.f[17](e+16)),s.M[17](t+8,n.f[17](e+8)),s.M[20](t+64,n.f[20](e+64)),s.M[15](t+76,n.f[15](e+76)),s.M[15](t+72,n.f[15](e+72)),s.M[15](t+80,n.f[15](e+80)),s.M[20](t+68,0),(0,c.us)(t+68,n.f[20](e+68)),function(t,e){if(g(t+40,t+44),n.f[15](e+44)){let r=12;s.M[20](t+40,(0,o.Gy)(r*n.f[15](e+44)));for(let r=0;r<n.f[15](e+44);r++)s.M[15](n.f[20](t+40)+12*r+4,n.f[15](n.f[20](e+40)+12*r+4)),s.M[15](n.f[20](t+40)+12*r+8,n.f[15](n.f[20](e+40)+12*r+8)),s.M[20](n.f[20](t+40)+12*r,(0,o.sY)(n.f[15](n.f[20](e+40)+12*r+4))),(0,i.Mr)(n.f[20](n.f[20](t+40)+12*r),n.f[20](n.f[20](e+40)+12*r),n.f[15](n.f[20](e+40)+12*r+4));s.M[15](t+44,n.f[15](e+44))}}(t,e),0}function v(t,e){return n.f[20](t)&&(0,c.Q7)(t),s.M[20](t,0),y(t,e),!n.f[20](e)&&n.f[15](e+28)?(r=t,o=n.f[15](e+28),(0,c.A6)(r,o+f),(0,i.sO)(n.f[20](n.f[20](r)+4)+o,0,f),n.f[15](e+28)&&(0,i.Mr)(n.f[20](n.f[20](t)+4),n.f[20](e+24),n.f[15](e+28)),s.M[20](t+24,n.f[20](n.f[20](t)+4))):n.f[20](e)&&(s.M[20](t,(0,c.VG)(n.f[20](e))),s.M[20](t+24,n.f[20](e+24))),s.M[15](t+28,n.f[15](e+28)),0;var r,o}function w(t){g(t+40,t+44),(0,c.Q7)(t+68),n.f[20](t)?(0,c.Q7)(t):n.f[20](t+24)&&(0,o.Eb)(n.f[20](t+24)),m(t)}function b(t,e,r){n.f[20](t)?(0,c.Q7)(t):n.f[20](t+24)&&(0,o.Eb)(n.f[20](t+24)),s.M[20](t,(0,c.aw)(e,r+f)),s.M[20](t+24,e),s.M[15](t+28,r)}},9991:(t,e,r)=>{"use strict";r.d(e,{b:()=>o});var i=r(3939),n=r(7837),s=r(4686);function o(t){2==i.f[15](t)&&(0,n.aI)(t+8),(0,s.sO)(t,0,24)}},1766:(t,e,r)=>{"use strict";r.d(e,{Yi:()=>u,dn:()=>h});var i=r(4686),n=r(3939),s=r(932),o=r(7837),a=r(9991),c=r(1517),f=r(7231);function u(t,e){s.M[15](t,n.f[15](e)),s.M[15](t+4,n.f[15](e+4)),s.M[8](t+8,n.f[8](e+8)),s.M[15](t+28,n.f[15](e+28)),s.M[17](t+32,n.f[17](e+32)),s.M[15](t+40,n.f[15](e+40)),s.M[15](t+44,n.f[15](e+44)),s.M[15](t+48,n.f[15](e+48)),s.M[15](t+52,n.f[15](e+52)),s.M[15](t+56,n.f[15](e+56)),s.M[15](t+60,n.f[15](e+60)),s.M[15](t+68,n.f[15](e+68)),s.M[15](t+64,n.f[15](e+64)),s.M[15](t+80,n.f[15](e+80)),s.M[15](t+84,n.f[15](e+84)),s.M[15](t+88,n.f[15](e+88)),s.M[15](t+92,n.f[15](e+92)),s.M[15](t+96,n.f[15](e+96)),s.M[15](t+100,n.f[15](e+100)),s.M[15](t+104,n.f[15](e+104)),(0,i.Mr)(t+112,e+112,24),s.M[15](t+136,n.f[15](e+136)),s.M[15](t+140,n.f[15](e+140)),s.M[15](t+144,n.f[15](e+144)),s.M[15](t+148,n.f[15](e+148)),s.M[15](t+152,n.f[15](e+152)),s.M[15](t+156,n.f[15](e+156)),(0,i.Mr)(t+72,e+72,8),n.f[20](e+12)&&(n.f[20](t+12)&&(0,o.Eb)(n.f[20](t+12)),s.M[20](t+12,(0,o.sY)(n.f[15](e+16))),s.M[15](t+16,n.f[15](e+16)),(0,i.Mr)(n.f[20](t+12),n.f[20](e+12),n.f[15](e+16))),n.f[20](e+20)&&function(t,e,r,a){if(!r)return;const c=(0,o.Gy)(12*a);for(let t=0;t<a;t++)s.M[15](c+12*t+8,n.f[15](r+12*t+8)),s.M[15](c+12*t+4,n.f[15](r+12*t+4)),s.M[20](c+12*t,(0,o.sY)(n.f[15](r+12*t+4))),(0,i.Mr)(c+12*t,r+12*t,n.f[15](r+12*t+4));s.M[15](e,a),s.M[20](t,c)}(t+20,t+24,n.f[20](e+20),n.f[15](e+24))}function h(t){t&&(function(t){n.f[20](t+12)&&(0,o.aI)(t+12),(0,a.b)(t+112),(0,c.NZ)(t+20,t+24),(0,i.sO)(t,0,168),s.M[15](t,-1),s.M[15](t+4,0),s.M[15](t+28,-1),s.M[15](t+112,0),s.M[15](t+80,0),s.M[15](t+84,0),s.M[15](t+88,2),s.M[15](t+92,2),s.M[15](t+96,2),s.M[15](t+100,0),s.M[15](t+64,0),s.M[15](t+68,1),s.M[15](t+72,0),s.M[15](t+72,1),s.M[15](t+48,f.N_),s.M[15](t+52,f.N_)}(t),(0,o.Eb)(t))}},7837:(t,e,r)=>{"use strict";r.d(e,{Eb:()=>h,Gy:()=>u,aI:()=>l,cz:()=>d,sY:()=>f});var i=r(1473),n=r(3939),s=r(932),o=r(4686),a=r(4624),c="src/avutil/util/mem.ts";function f(t){const e=i.s_.malloc(t);return e||a.h2("can not alloc buffer",c,32),e}function u(t){const e=i.s_.malloc(t);return e||a.h2("can not alloc buffer",c,40),(0,o.sO)(e,0,t),e}function h(t){i.s_.free(t)}function l(t){i.s_.free(n.f[20](t)),s.M[20](t,0)}function d(t,e){return i.s_.realloc(t,e)}},264:(t,e,r)=>{"use strict";function i(t){return t.length>4&&0===t[0]&&0===t[1]&&(1===t[2]||0===t[2]&&1===t[3])}r.d(e,{Bs:()=>i})},4328:(t,e,r)=>{"use strict";function i(t,e,r){return t*BigInt(e.num>>>0)*BigInt(r.den>>>0)/(BigInt(e.den>>>0)*BigInt(r.num>>>0))}r.d(e,{k:()=>i})},5007:(t,e,r)=>{"use strict";r.d(e,{A:()=>v});var i=r(134),n=r(5335),s=r(2739),o=r(3783),a=r(7417),c=r(4624),f="src/cheap/allocator/AllocatorJS.ts";const u=2,h=I(16),l=32,d=1+2*l,p=1,A=0,g=2,m=1,y=p+d+2;class v{constructor(t,e=!0){var r,s,o,a;(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"byteOffset",void 0),(0,i.A)(this,"heapOffset",void 0),(0,i.A)(this,"heapLength",void 0),(0,i.A)(this,"int32Array",void 0),(0,i.A)(this,"updates",void 0),(0,i.A)(this,"options",void 0),(0,i.A)(this,"shared",void 0),(0,i.A)(this,"handles",void 0),this.options=n.X$({growSize:1048576,maxHeapSize:2097152e3},t),this.handles=[],this.buffer=t.buffer,this.shared=!1,this.options.memory||this.buffer instanceof ArrayBuffer||this.buffer instanceof SharedArrayBuffer?(this.byteOffset=null!==(r=t.byteOffset)&&void 0!==r?r:0,this.heapOffset=_(this.byteOffset+x(l),null!==(s=t.byteLength)&&void 0!==s?s:this.buffer.byteLength),this.heapLength=S((null!==(o=t.byteLength)&&void 0!==o?o:this.buffer.byteLength)-this.heapOffset),this.int32Array=new Int32Array(this.buffer,this.heapOffset,I(this.heapLength)),this.updates=new Int32Array(this.buffer,this.byteOffset,l),"function"==typeof SharedArrayBuffer&&this.buffer instanceof SharedArrayBuffer&&(this.shared=!0)):c.h2("Expected buffer to be an instance of Buffer or ArrayBuffer",f,109),e&&(this.updates.fill(p),function(t){return t[p-1]===d&&t[p+d]===d}(a=this.int32Array)||function(t){const e=p,r=d,i=y,n=t.length-(e+r+2+m);M(t,r,e),t[e+A]=1,t[e+g]=i;for(let r=1;r<l;r++)t[e+g+r]=p;M(t,n,i),t[i+A]=1,t[i+g]=e}(a),function(t){let e=y;for(;e<t.length-m;){const r=k(t,e);r<2||r>=t.length-y?c.h2(`Got invalid sized chunk at ${x(e)} (${x(r)} bytes).`,f,568):T(t,e)?w(t,e,r):b(t,e,r),e+=r+2}}(this.int32Array))}addUpdateHandle(t){s.zy(this.handles,t)||this.handles.push(t)}removeUpdateHandle(t){s.TF(this.handles,t)}malloc_(t){(t=U(t,7))<16&&(t=16);const e=I(t),r=this.findFreeBlock(this.int32Array,e);if(r<=p)return 0;const i=k(this.int32Array,r);return i-(e+2)>=h?function(t,e,r,i,n){const s=e+r+2,o=i-(s-e);E(t,e,i,n),t[e-1]=-r,t[e+r]=-r,t[s-1]=-o,t[s+o]=-o,O(t,s,o,n)}(this.int32Array,r,e,i,this.updates):E(this.int32Array,r,i,this.updates),x(r)+this.heapOffset}malloc(t){this.shared&&((0,o.s2)(a.I,!0),this.checkBuffer());const e=this.malloc_(t);return this.shared&&(0,o.Tl)(a.I),e}calloc_(t,e){let r=t*e;r=r<16?16:U(r,7);const i=this.malloc_(r);if(0===i)return 0;const n=I(i-this.heapOffset);return this.int32Array.subarray(n,n+I(r)).fill(0),i}calloc(t,e){this.shared&&((0,o.s2)(a.I,!0),this.checkBuffer());const r=this.calloc_(t,e);return this.shared&&(0,o.Tl)(a.I),r}realloc_(t,e){if(0===t)return this.malloc_(e);const r=t;if(0===e)return this.free_(r),0;let i=I(t-=this.heapOffset),n=i,s=0;F(this.int32Array,i)&&(n=this.int32Array[i-1],s=i-n);const o=k(this.int32Array,n)-s;if(o>=I(U(e,7)))return r;{const t=this.malloc_(e);return 0===t?(this.free_(r),0):(this.int32Array.set(this.int32Array.subarray(i,i+o),I(t-this.heapOffset)),this.free_(r),t)}}realloc(t,e){return this.shared&&((0,o.s2)(a.I,!0),this.checkBuffer()),t=this.realloc_(t,e),this.shared&&(0,o.Tl)(a.I),t}alignedAlloc_(t,e){if(t<=8)return this.malloc_(e);const r=this.malloc_(e+t-1+4);if(0===r)return 0;const i=r+t-1+4&~(t-1);return this.int32Array[I(i-this.heapOffset)-m]=I(r-this.heapOffset),i}alignedAlloc(t,e){this.shared&&((0,o.s2)(a.I,!0),this.checkBuffer());const r=this.alignedAlloc_(t,e);return this.shared&&(0,o.Tl)(a.I),r}free_(t){if(0===t)return;let e=I(t-=this.heapOffset);if(F(this.int32Array,e)&&(e=this.int32Array[e-m]),T(this.int32Array,e))return;const r=k(this.int32Array,e),i=C(this.int32Array,e),n=function(t,e){const r=k(t,e);if(e+r+2>=t.length-2)return 0;const i=e+r+2;return t[i-m]<2?0:i}(this.int32Array,e);0!==i?0!==n?function(t,e,r,i,n,s){const o=k(t,e),a=k(t,n),c=n-e+a;E(t,e,o,s),E(t,n,a,s),t[e-m]=-c,t[n+a]=-c,O(t,e,c,s)}(this.int32Array,i,0,0,n,this.updates):z(this.int32Array,i,e,r,this.updates):0!==n?function(t,e,r,i,n){const s=k(t,e);E(t,e,s,n);const o=i+s+2;t[r-m]=-o,t[e+s]=-o,O(t,r,o,n)}(this.int32Array,n,e,r,this.updates):O(this.int32Array,e,r,this.updates)}free(t){this.shared&&((0,o.s2)(a.I,!0),this.checkBuffer()),this.free_(t),this.shared&&(0,o.Tl)(a.I)}sizeof(t){if(0===t)return 0;let e=I(t-=this.heapOffset);return F(this.int32Array,e)&&(e=this.int32Array[e-m]),x(k(this.int32Array,e))}inspect(){return this.checkBuffer(),function(t,e){const r=[],i=P(t,p,e);let n=y,s=0;for(;n<t.length-m;){const i=k(t,n);(i<2||i>=t.length)&&c.h2(`Got invalid sized chunk at ${x(n)} (${x(i)})`,f,624),T(t,n)?r.push(P(t,n,e)):(s+=x(i),r.push({type:"used",block:n,offset:x(n)+e,size:x(i)})),n+=i+2}return{header:i,blocks:r,total:x(t.length),used:s}}(this.int32Array,this.heapOffset)}findFreeBlock(t,e){let r=function(t,e){let r=p;for(let i=t[p+A];i>0;i--){let n=t[r+g+(i-1)];for(;n!==p&&t[n-m]<e;)r=n,n=t[r+g+(i-1)]}return r=t[r+g],r}(t,e);if(r===p){if(this.options.growAllowed&&this.heapLength<this.options.maxHeapSize){const t=this.int32Array.length+1;let r,a,c=0,f=0,u=0;if(this.options.onResize){var i,n,o;const t=this.options.onResize(this.int32Array,this.int32Array.byteLength+U(Math.max(this.options.growSize,x(e)),7));c=null!==(i=t.byteOffset)&&void 0!==i?i:0,u=_(c+x(l),null!==(n=t.byteLength)&&void 0!==n?n:t.buffer.byteLength),f=S((null!==(o=t.byteLength)&&void 0!==o?o:t.buffer.byteLength)-u),r=new Int32Array(t.buffer,u,I(f)),a=new Int32Array(t.buffer,c,l)}else{const t=new ArrayBuffer(this.int32Array.length+I(this.options.growSize));u=_(c+x(l),t.byteLength),f=S(t.byteLength-u),r=new Int32Array(t,u,I(f)),r.set(this.int32Array,0),a=new Int32Array(t,c,l)}this.byteOffset=c,this.heapOffset=u,this.buffer=r.buffer,this.heapLength=f,this.int32Array=r,this.updates=a;const h=r.length-(t-1)-2;M(r,h,t);const d=C(r,t);return 0!==d?z(r,d,t,h,this.updates):O(r,t,h,this.updates),this.handles.length&&s.__(this.handles,(t=>{t(this.buffer)})),this.findFreeBlock(this.int32Array,e)}return r}return r}getBuffer(){return this.buffer}isAlloc(t){this.shared&&((0,o.s2)(a.I,!0),this.checkBuffer());const e=I(t-this.heapOffset);let r=this.int32Array[p+g];for(;r&&r!==p;){if(e>=r&&e<r+this.int32Array[r-m])return this.shared&&(0,o.Tl)(a.I),!1;r=this.int32Array[r+g]}return this.shared&&(0,o.Tl)(a.I),!0}checkBuffer(){this.options.memory&&this.options.memory.buffer!==this.buffer&&(this.buffer=this.options.memory.buffer,this.heapLength=S(this.buffer.byteLength-this.heapOffset),this.int32Array=new Int32Array(this.buffer,this.heapOffset,I(this.heapLength)))}}function w(t,e,r){t[e-1]!==t[e+r]&&c.h2(`Block length header does not match footer (${x(t[e-1])} vs ${x(t[e+r])}).`,f,584);const i=t[e+A];(i<1||i>l)&&c.h2(`Block ${x(e)} height must be between 1 and ${l}, got ${i}.`,f,589);for(let r=0;r<i;r++){const i=t[e+g+r];i>=y&&!T(t,i)&&c.h2(`Block ${x(e)} has a pointer to a non-free block (${x(i)}).`,f,595)}return!0}function b(t,e,r){if(t[e-1]===t[e+r])return!0;c.h2(`Block length header does not match footer (${x(t[e-1])} vs ${x(t[e+r])}).`,f,604)}function x(t){return t<<u>>>0}function I(t){return t>>>u}function U(t,e){return(t+e&~e)>>>0}function _(t,e){const r=e-t;return t+(U(r,7)===r?0:r-U(r,7)+8)}function S(t){return(p+d)%2||(t-=4),t}function P(t,e,r){const i=t[e+A],n=[];for(let r=0;r<i;r++)n.push(t[e+g+r]);return{type:"free",block:e,offset:x(e)+r,height:i,pointers:n,size:x(t[e-1])}}function k(t,e){const r=t[e-1],i=r>>31;return r+i^i}function M(t,e,r){t[r-1]=e,t[r+e]=e}function B(t,e,r){const i=t[p+A];let n=p;for(let s=i;s>0;s--){let i=n+g+(s-1);for(;t[i]>=y&&t[t[i]-1]<e;)n=t[i],i=n+g+(s-1);r[s-1]=n}}function E(t,e,r,i){B(t,r,i);let n=t[i[0]+g];for(;n!==e&&n!==p&&t[n-1]<=r;){for(let r=t[n+A]-1;r>=0;r--)t[n+g+r]===e&&(i[r]=n);n=t[n+g]}let s=t[p+A];for(let r=0;r<s&&t[i[r]+g+r]===e;r++)t[i[r]+g+r]=t[e+g+r];for(;s>0&&t[p+g+(s-1)]===p;)s--,t[p+A]=s;t[e-1]=-r,t[e+r]=-r}function T(t,e){return!(e<d)&&!(t[e-m]<0)}function F(t,e){return!(e<d)&&!(t[e-m]<0)}function C(t,e){if(e<=y)return 0;const r=t[e-2];return r<2?0:e-(2+r)}function O(t,e,r,i){B(t,r,i);const n=function(t,e,r,i){const n=t[p+A];let s=function(){let t=1;for(;Math.random()<.5&&t<l;)t+=1;return t}();if(r-1<s+1&&(s=r-2),s>n){const r=n+1;return t[p+A]=r,t[p+g+(r-1)]=p,i[r]=p,t[e+A]=r,r}return t[e+A]=s,s}(t,e,r,i);for(let r=1;r<=n;r++){const n=i[r-1]+g+(r-1);t[e+g+(r-1)]=t[n],t[n]=e,i[r-1]=p}return t[e-1]=r,t[e+r]=r,r}function z(t,e,r,i,n){const s=r-e+i;return E(t,e,r-e-2,n),t[e-m]=-s,t[r+i]=-s,O(t,e,s,n),i}},4321:(t,e,r)=>{"use strict";r.d(e,{z:()=>n});var i=r(134);class n{constructor(){(0,i.A)(this,"table",void 0),(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"nodes",void 0),this.table=new WebAssembly.Table({initial:16,element:"anyfunc"}),this.pointer=6,this.nodes=[{pointer:this.pointer,length:10,free:!0}]}getPointer(){return this.pointer}alloc(t){let e=this.findFree(t);if(e<0){const r=this.nodes[this.nodes.length-1],i=t-(r.free?r.length:0);this.table.grow(i),r.free?r.length=r.length+i:this.nodes.push({pointer:r.pointer+r.length,length:i,free:!0}),e=this.findFree(t)}const r=this.nodes[e];return r.length>t&&(this.nodes.splice(e+1,0,{pointer:r.pointer+t,length:r.length-t,free:!0}),r.length=t),r.free=!1,r.pointer}free(t){let e=this.findNode(t);const r=this.nodes[e];if(r&&!r.free){const t=this.nodes[e-1],i=this.nodes[e+1];t&&t.free?i&&i.free?(t.length+=r.length+i.length,this.nodes.splice(e,2)):(t.length+=r.length,this.nodes.splice(e,1)):i&&i.free?(r.length+=i.length,this.nodes.splice(e+1,1),r.free=!0):r.free=!0}if(1===this.nodes.length&&this.nodes[0].free){const t=new WebAssembly.Table({initial:16,element:"anyfunc"});this.pointer=6,this.nodes=[{pointer:this.pointer,length:10,free:!0}];for(let e=1;e<this.pointer;e++)t.set(e,this.table.get(e));this.table=t}}get(t){return this.table.get(t)}set(t,e){if(t<0||t>=this.pointer)throw new RangeError("index out of bound");this.table.set(t,e)}inspect(){return this.nodes}findFree(t){let e=-1;for(let r=0;r<this.nodes.length;r++)if(this.nodes[r].length>=t&&this.nodes[r].free){e=r;break}return e}findNode(t){let e=-1;for(let r=0;r<this.nodes.length;r++)if(this.nodes[r].pointer===t){e=r;break}return e}}},8564:(t,e,r)=>{"use strict";r.d(e,{Ay:()=>l});var i=r(4919),n=r(4624),s=r(3939),o=r(932),a=r(8096),c=r(3945),f=r.n(c),u="src/cheap/asm/memory.ts";let h;async function l(t){try{let e=(0,i.E_)(f());a.DD(e,"function"==typeof SharedArrayBuffer&&t.buffer instanceof SharedArrayBuffer),h=(await WebAssembly.instantiate(e,{env:{memory:t}})).instance,(0,s.$)({4:h.exports.readU8,5:h.exports.readU8,2:h.exports.readU8,3:h.exports.readU8,6:h.exports.readU16,7:h.exports.readU16,8:t=>h.exports.read32(t)>>>0,9:t=>h.exports.read32(t)>>>0,10:t=>BigInt.asUintN(64,h.exports.read64(t)),22:t=>BigInt.asUintN(64,h.exports.read64(t)),11:h.exports.read8,12:h.exports.read8,13:h.exports.read16,14:h.exports.read16,15:h.exports.read32,16:h.exports.read32,17:h.exports.read64,21:h.exports.read64,18:h.exports.readf32,19:h.exports.readf64,20:t=>h.exports.read32(t)>>>0}),(0,o.$)({4:h.exports.write8,5:h.exports.write8,2:h.exports.write8,3:h.exports.write8,6:h.exports.write16,7:h.exports.write16,8:h.exports.write32,9:h.exports.write32,10:h.exports.write64,22:h.exports.write64,11:h.exports.write8,12:h.exports.write8,13:h.exports.write16,14:h.exports.write16,15:h.exports.write32,16:h.exports.write32,17:h.exports.write64,21:h.exports.write64,18:h.exports.writef32,19:h.exports.writef64,20:h.exports.write32})}catch(t){n.R8("memory asm not support, cannot use asm memory function",u,96)}}},6429:(t,e,r)=>{"use strict";r.d(e,{Gx:()=>f,YN:()=>c,_7:()=>s,dP:()=>a,pw:()=>o});var i,n=r(576);const s=!1;let o=1048576;const a=1024,c=null!==(i=n.TK.CHEAP_HEAP_INITIAL)&&void 0!==i?i:265,f=65536},3281:(t,e,r)=>{"use strict";r.d(e,{A:()=>E});var i=r(9135),n=r(3939),s=r(932);let o,a;const c=(0,i.A)();function f(t,e){a().setUint8(t,e)}function u(t){return a().getUint8(t)}function h(t,e){a().setUint16(t,e,c)}function l(t){return a().getUint16(t,c)}function d(t,e){a().setUint32(t,e,c)}function p(t){return a().getUint32(t,c)}function A(t,e){a().setBigUint64(t,e,c)}function g(t){return a().getBigUint64(t,c)}function m(t,e){a().setInt8(t,e)}function y(t){return a().getInt8(t)}function v(t,e){a().setInt16(t,e,c)}function w(t){return a().getInt16(t,c)}function b(t,e){a().setInt32(t,e,c)}function x(t){return a().getInt32(t,c)}function I(t,e){a().setBigInt64(t,e,c)}function U(t){return a().getBigInt64(t,c)}function _(t,e){a().setFloat32(t,e,c)}function S(t){return a().getFloat32(t,c)}function P(t,e){a().setFloat64(t,e,c)}function k(t){return a().getFloat64(t,c)}function M(t){return a().getUint32(t,c)}function B(t,e){return a().setUint32(t,e,c)}function E(t,e){o=t,a=e,(0,n.$)({4:u,5:u,2:u,3:u,6:l,7:l,8:p,9:p,10:g,11:y,12:y,13:w,14:w,15:x,16:x,17:U,18:S,19:k,20:M,23:t=>!!y(t),24:t=>!!y(t)}),(0,s.$)({4:f,5:f,2:f,3:f,6:h,7:h,8:d,9:d,10:A,11:m,12:m,13:v,14:v,15:b,16:b,17:I,18:_,19:P,20:B,23:(t,e)=>{m(t,e?1:0)},24:(t,e)=>{m(t,e?1:0)}})}},3939:(t,e,r)=>{"use strict";r.d(e,{$:()=>s,f:()=>n});var i=r(5335);const n={4:function(t){throw new Error("unimplemented")},5:function(t){throw new Error("unimplemented")},2:function(t){throw new Error("unimplemented")},3:function(t){throw new Error("unimplemented")},6:function(t){throw new Error("unimplemented")},7:function(t){throw new Error("unimplemented")},8:function(t){throw new Error("unimplemented")},9:function(t){throw new Error("unimplemented")},10:function(t){throw new Error("unimplemented")},11:function(t){throw new Error("unimplemented")},12:function(t){throw new Error("unimplemented")},13:function(t){throw new Error("unimplemented")},14:function(t){throw new Error("unimplemented")},15:function(t){throw new Error("unimplemented")},16:function(t){throw new Error("unimplemented")},17:function(t){throw new Error("unimplemented")},18:function(t){throw new Error("unimplemented")},19:function(t){throw new Error("unimplemented")},20:function(t){throw new Error("unimplemented")},0:function(t){throw new Error("invalid operate")},1:function(t){throw new Error("invalid operate")},22:function(t){throw new Error("invalid operate")},21:function(t){throw new Error("invalid operate")},23:function(t){throw new Error("invalid operate")},24:function(t){throw new Error("invalid operate")}};function s(t){i.X$(n,t)}},932:(t,e,r)=>{"use strict";r.d(e,{$:()=>s,M:()=>n});var i=r(5335);const n={4:function(t,e){throw new Error("unimplemented")},5:function(t,e){throw new Error("unimplemented")},2:function(t,e){throw new Error("unimplemented")},3:function(t,e){throw new Error("unimplemented")},6:function(t,e){throw new Error("unimplemented")},7:function(t,e){throw new Error("unimplemented")},8:function(t,e){throw new Error("unimplemented")},9:function(t,e){throw new Error("unimplemented")},10:function(t,e){throw new Error("unimplemented")},11:function(t,e){throw new Error("unimplemented")},12:function(t,e){throw new Error("unimplemented")},13:function(t,e){throw new Error("unimplemented")},14:function(t,e){throw new Error("unimplemented")},15:function(t,e){throw new Error("unimplemented")},16:function(t,e){throw new Error("unimplemented")},17:function(t,e){throw new Error("unimplemented")},18:function(t,e){throw new Error("unimplemented")},19:function(t,e){throw new Error("unimplemented")},20:function(t,e){throw new Error("unimplemented")},0:function(t,e){throw new Error("invalid operate")},1:function(t,e){throw new Error("invalid operate")},22:function(t,e){throw new Error("invalid operate")},21:function(t,e){throw new Error("invalid operate")},23:function(t,e){throw new Error("invalid operate")},24:function(t,e){throw new Error("invalid operate")}};function s(t){i.X$(n,t)}},5323:(t,e,r)=>{"use strict";r.d(e,{X:()=>E,l:()=>B});var i=r(6681),n=r.n(i),s=r(1919),o=r.n(s),a=r(5019),c=r.n(a),f=r(9921),u=r(3939),h=r(932),l=r(1499),d=r(6704),p=r(7672),A=r(5335),g=r(2100),m=r(2739);function y(t,e,r,i){n()(t,e,{get:r,set:i,configurable:!0,enumerable:!0})}function v(t){return function(){return u.f[20](t())}}function w(t,e,r,i){return function(){return t[`__$__${e}`]||(t[`__$__${e}`]=B(r(),i))}}function b(t,e){return function(){return u.f[e](t())}}function x(t,e,r,i){const n=8*d.i[e]-i-r,s=Math.pow(2,r)-1;return function(){return u.f[e](t())>>>n&s}}function I(t){return function(e){h.M[8](t(),e)}}function U(t,e,r,i){const n=`__$__${e}`;return function(e){const s=t[n]||(t[n]=B(r(),i));A.__(e,((t,e)=>{s[e]=t})),t[n]=s}}function _(t,e){return function(r){h.M[e](t(),r)}}function S(t,e,r,i){let n=0,s=8*d.i[e];for(let t=0;t<r;t++)n|=1<<s-1-(t+i);const o=Math.pow(2,r)-1,a=s-i-r;return function(r){const i=t(),s=u.f[e](i);h.M[e](i,s&~n|(r&o)<<a)}}function P(t,e,r){return function(){const i=e[`__$__${r}`];return i[l.o9]=t(),i}}function k(t,e,r,i,n){const s=`__$__${e}`;return function(e){let o=t[s]||function(t,e,r){const i={};let n=(0,f.A)(r);for(let s=0;s<e;s++){const e=(0,g.A)(s);y(i,e,w(i,e,(()=>t()+n*s),r),U(i,e,(()=>t()+n*s),r))}return i}(r,i,n);o[l.o9]=r(),m.__(e,((t,e)=>{o[e]=t})),t[s]=o}}function M(t,e,r,i,n){const s=`__$__${e}`;return function(e){let o=t[s]||function(t,e,r){const i={};let n=(0,f.A)(r);for(let s=0;s<e;s++)y(i,(0,g.A)(s),b((()=>t()+n*s),r),_((()=>t()+n*s),r));return i}(r,i,n);o[l.o9]=r(),m.__(e,((t,e)=>{o[e]=t})),t[s]=o}}function B(t,e){let r=p.Pc(e)?e.prototype:e;const i={};for(i[l.o9]=t,o()(i,r);;){let t=r[l.JY];if(t&&t.forEach(((t,e)=>{t[3]?t[1]?y(i,e,P((()=>i[l.o9]+t[7]),i,e),M(i,e,(()=>i[l.o9]+t[7]),t[4],20)):p.Pc(t[0])||p.Ik(t[0])?y(i,e,P((()=>i[l.o9]+t[7]),i,e),k(i,e,(()=>i[l.o9]+t[7]),t[4],t[0])):y(i,e,P((()=>i[l.o9]+t[7]),i,e),M(i,e,(()=>i[l.o9]+t[7]),t[4],t[0])):t[1]?y(i,e,v((()=>i[l.o9]+t[7])),I((()=>i[l.o9]+t[7]))):p.Pc(t[0])||p.Ik(t[0])?y(i,e,w(i,e,(()=>i[l.o9]+t[7]),t[0]),U(i,e,(()=>i[l.o9]+t[7]),t[0])):t[5]?y(i,e,x((()=>i[l.o9]+t[7]),t[0],t[6],t[8]),S((()=>i[l.o9]+t[7]),t[0],t[6],t[8])):y(i,e,b((()=>i[l.o9]+t[7]),t[0]),_((()=>i[l.o9]+t[7]),t[0]))})),r=c()(r),!r)break}return i}function E(t){let e=c()(t);for(;;){let r=e[l.JY];if(r&&r.forEach(((e,r)=>{delete t[r]})),e=c()(e),!e)break}}},2085:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(6681),n=r.n(i);function s(t,e,r){n()(t,e,{value:r,writable:!1,enumerable:!1,configurable:!1})}},1473:(t,e,r)=>{"use strict";r.d(e,{GE:()=>m,KZ:()=>z,eq:()=>O,s_:()=>b});var i=r(9638),n=r(5007),s=r(4321),o=r(576),a=r(6429),c=r(7417),f=r(3856),u=r(8564),h=r(3281),l=r(4568),d=r(6834);let p=-1,A=!0,g="",m=null,y=null,v=0,w=null,b=null,x=null,I=null,U=null,_=null,S=null,P=null,k=null,M=null,B=null,E=null,T=null,F=null,C={5:P,3:P,7:k,9:M,22:B,12:I,14:U,16:_,21:S};function O(){return P}function z(){return F}function L(t){return C[t]}function D(t){I=new Int8Array(t),U=new Int16Array(t),_=new Int32Array(t),S=new BigInt64Array(t),P=new Uint8Array(t),k=new Uint16Array(t),M=new Uint32Array(t),B=new BigUint64Array(t),E=new Float32Array(t),T=new Float64Array(t),F=new DataView(t),C={5:P,3:P,7:k,9:M,22:B,12:I,14:U,16:_,21:S}}(0,i.A)()||(0,l.A)()?(o.TK.CHeap={initThread:async function t(e){var r;(0,h.A)((()=>b),z),(0,f.A)(L),x=e.memory;var i;i=new n.A({buffer:x.buffer,memory:x,byteOffset:a.dP,maxHeapSize:64*a.Gx*1024,growAllowed:!0,onResize:(t,e)=>(x.grow(e-t.byteLength>>>16),{buffer:x.buffer,byteOffset:a.dP})},!1),b&&b.removeUpdateHandle(D),b=i,o.TK.CHeap&&(o.TK.CHeap.Allocator=b),b.addUpdateHandle(D),D(b.getBuffer()),e.stackPointer&&(v=e.stackSize,y=e.stackPointer,m=new WebAssembly.Global({value:"i32",mutable:!0},y+v),w=new s.z),p="number"==typeof e.id?e.id:Atomics.add(M,c.h>>>2,1),g=null!==(r=e.name)&&void 0!==r?r:"anonymous",o.TK.CHeap={initThread:t,Allocator:b,Table:w,ThreadId:p,ThreadName:g,Memory:x,StackSize:v,StackTop:y,StackPointer:m,isMainThread:!1},A=!1,e.disableAsm||"function"==typeof BigInt&&BigInt!==Number&&(d.A.chrome&&d.A.checkVersion(d.A.majorVersion,"85",!0)||d.A.firefox&&d.A.checkVersion(d.A.majorVersion,"78",!0)||d.A.safari&&d.A.checkVersion(d.A.majorVersion,"15",!0)||d.A.newEdge)&&await(0,u.Ay)(x)},isMainThread:!1},A=!1):function(){var t,e,r,i,u,l,d,I;if((0,h.A)((()=>b),z),(0,f.A)(L),x=null!==(t=o.TK.CHeap)&&void 0!==t&&t.Memory?o.TK.CHeap.Memory:new WebAssembly.Memory({initial:a.YN,maximum:a.Gx,shared:a._7}),b=null!==(e=o.TK.CHeap)&&void 0!==e&&e.Allocator?o.TK.CHeap.Allocator:new n.A({buffer:x.buffer,memory:x,byteOffset:a.dP,maxHeapSize:64*a.Gx*1024,growAllowed:!0,onResize:(t,e)=>(x.grow(e-t.byteLength>>>16),{buffer:x.buffer,byteOffset:a.dP})}),b.addUpdateHandle(D),D(b.getBuffer()),v=null!==(r=o.TK.CHeap)&&void 0!==r&&r.StackSize?o.TK.CHeap.StackSize:a.pw,y=null!==(i=o.TK.CHeap)&&void 0!==i&&i.StackTop?o.TK.CHeap.StackTop:b.malloc(v),m=null!==(u=o.TK.CHeap)&&void 0!==u&&u.StackPointer?o.TK.CHeap.StackPointer:new WebAssembly.Global({value:"i32",mutable:!0},y+v),w=null!==(l=o.TK.CHeap)&&void 0!==l&&l.Table?o.TK.CHeap.Table:new s.z,p=null!==(d=o.TK.CHeap)&&void 0!==d&&d.ThreadId?o.TK.CHeap.ThreadId:0,g=null!==(I=o.TK.CHeap)&&void 0!==I&&I.ThreadName?o.TK.CHeap.ThreadName:"main",!o.TK.CHeap){a._7;{M[c.h>>>2]=p+1;let t=c.I>>>2;_[t]=0}}o.TK.CHeap||(o.TK.CHeap={Allocator:b,Table:w,ThreadId:p,ThreadName:g,Memory:x,StackSize:v,StackTop:y,StackPointer:m,isMainThread:!0,threadCounter:c.h,heapMutex:c.I}),A=!0}()},98:(t,e,r)=>{"use strict";r.d(e,{I_:()=>y,SQ:()=>v});var i=r(5019),n=r.n(i),s=r(1919),o=r.n(s),a=r(9921),c=r(3939),f=r(932),u=r(1499),h=r(6704),l=r(7672),d=r(5335),p=r(2739),A=r(2148);const g=n()({});function m(t,e){for(;;){let r=t[u.JY];if(r){const t=r.get(e);if(t)return t}if(!(t=n()(t))||t===g)return null}}function y(t,e){const r=l.Pc(e)?e.prototype:e,i={};i[u.o9]=t,o()(i,r);const{proxy:n,revoke:s}=Proxy.revocable(i,{get(t,e,i){if(l.Yj(e)){const i=m(r,e.replace(/^\$+/,""));if(i){const r=t[u.o9]+i[7];if(i[3]){const i=t[e];return i[u.o9]=r,i}if(i[1])return c.f[20](r);if(l.Pc(i[0])||l.Ik(i[0]))return t[e]||(t[e]=y(r,i[0]));{let t=c.f[i[0]](r);return i[5]&&(t=t>>>8*h.i[i[0]]-i[8]-i[6]&Math.pow(2,i[6])-1),t}}return t[e]}return t[e]},set(t,e,i,n){if(l.Yj(e)){const n=m(r,e.replace(/^\$+/,""));if(n){const r=t[u.o9]+n[7];if(n[3]){const s=t[e]||function(t,e,r,i){const n={};n[u.o9]=t;let s=(0,a.A)(i?20:r);return new Proxy(n,{get(t,e,n){if(e===u.o9)return t[u.o9];const o=(0,A.A)(e);return i?c.f[20](t[u.o9]+o*s):l.Pc(r)?t[e]:c.f[r](t[u.o9]+o*s)},set(t,e,n,o){if(e===u.o9)return t[u.o9]=n,!0;const a=(0,A.A)(e);if(i)f.M[20](t[u.o9]+a*s,n),t[e]=n;else if(l.Pc(r)){const i=t[e]||(t[e]=y(t[u.o9]+a*s,r));d.__(n,((t,e)=>{i[e]=t})),t[e]=i}else f.M[r](t[u.o9]+a*s,n),t[e]=n;return!0}})}(r,n[4],n[0],n[1]);p.__(i,((t,e)=>{s[e]=t})),t[e]=s}else if(n[1])f.M[20](r,i),t[e]=i;else if(l.Pc(n[0])||l.Ik(n[0])){const s=t[e]||(t[e]=y(r,n[0]));d.__(i,((t,e)=>{s[e]=t})),t[e]=s}else{if(n[5]){let t=0,e=8*h.i[n[0]];for(let r=0;r<n[6];r++)t|=1<<e-1-(r+n[8]);const s=c.f[n[0]](r);f.M[n[0]](r,s&~t|(i&Math.pow(2,n[6])-1)<<e-n[8]-n[6])}else f.M[n[0]](r,i);t[e]=i}}else t[e]=i}else t[e]=i;return!0}});return i[u.kE]=s,n}function v(t){const e=t[u.kE];e&&e()}},2699:(t,e,r)=>{"use strict";r.d(e,{t:()=>s,z:()=>n});var i=r(1473);function n(t){return i.GE.value-=t,i.GE.value}function s(t){i.GE.value+=t}},7417:(t,e,r)=>{"use strict";r.d(e,{I:()=>f,h:()=>c});var i,n,s=r(576);let o=1;function a(t,e=1){let r=o;for(;r%e;)r+=1;return o=r+t,r}const c=null!==(i=s.TK.CHeap)&&void 0!==i&&i.threadCounter?s.TK.CHeap.threadCounter:a(4,4),f=null!==(n=s.TK.CHeap)&&void 0!==n&&n.heapMutex?s.TK.CHeap.heapMutex:a(4,4)},9630:(t,e,r)=>{"use strict";r.d(e,{A:()=>f});var i=r(134),n=r(3939),s=r(932),o=r(1473),a=r(1403);class c{constructor(t,e){(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"len",void 0),this.pointer=t,this.len=e}get byteLength(){return this.len}get buffer(){return(0,o.eq)().buffer}get byteOffset(){return this.pointer}getFloat32(t,e){return(0,o.KZ)().getFloat32(this.pointer+t,e)}getFloat64(t,e){return(0,o.KZ)().getFloat64(this.pointer+t,e)}getInt8(t){return(0,o.KZ)().getInt8(this.pointer+t)}getInt16(t,e){return(0,o.KZ)().getInt16(this.pointer+t,e)}getInt32(t,e){return(0,o.KZ)().getInt32(this.pointer+t,e)}getUint8(t){return(0,o.KZ)().getUint8(this.pointer+t)}getUint16(t,e){return(0,o.KZ)().getUint16(this.pointer+t,e)}getUint32(t,e){return(0,o.KZ)().getUint32(this.pointer+t,e)}setFloat32(t,e,r){(0,o.KZ)().setFloat32(this.pointer+t,e,r)}setFloat64(t,e,r){(0,o.KZ)().setFloat64(this.pointer+t,e,r)}setInt8(t,e){(0,o.KZ)().setInt8(this.pointer+t,e)}setInt16(t,e,r){(0,o.KZ)().setInt16(this.pointer+t,e,r)}setInt32(t,e,r){(0,o.KZ)().setInt32(this.pointer+t,e,r)}setUint8(t,e){(0,o.KZ)().setUint8(this.pointer+t,e)}setUint16(t,e,r){(0,o.KZ)().setUint16(this.pointer+t,e,r)}setUint32(t,e,r){(0,o.KZ)().setUint32(this.pointer+t,e,r)}getBigInt64(t,e){return(0,o.KZ)().getBigInt64(this.pointer+t,e)}getBigUint64(t,e){return(0,o.KZ)().getBigUint64(this.pointer+t,e)}setBigInt64(t,e,r){(0,o.KZ)().setBigInt64(this.pointer+t,e,r)}setBigUint64(t,e,r){(0,o.KZ)().setBigUint64(this.pointer+t,e,r)}}class f extends a.A{constructor(t,e){return super(),(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"len",void 0),this.pointer=t,this.len=e,this.proxy}getIndexValue(t){return n.f[2](this.pointer+t)}setIndexValue(t,e){s.M[2](this.pointer+t,e)}set(t,e=0){(0,o.eq)().set(t,this.pointer+e)}subarray(t=0,e,r){return r?new f(this.pointer+t,(e||this.len)-t):(0,o.eq)().subarray(this.pointer+t,this.pointer+(null!=e?e:this.len))}slice(t=0,e){return(0,o.eq)().slice(this.pointer+t,this.pointer+(null!=e?e:this.len))}get length(){return this.len}get byteLength(){return this.len}get buffer(){return(0,o.eq)().buffer}get byteOffset(){return this.pointer}get view(){return new c(this.pointer,this.len)}}},4503:(t,e,r)=>{"use strict";r.d(e,{A:()=>f});var i=r(9921),n=r(1473),s=r(4686),o=r(5335),a=r(4677),c=r(9170);function f(t,e){const r=(0,i.A)(t),f=n.s_.malloc(r);if(!f)throw new TypeError("cannot alloc memory for struct");(0,s.sO)(f,0,r);const u=(0,c.A)(f,t),h=new t;return e&&o.X$(h,e),o.__(h,((t,e)=>{(0,a.A)(t)&&(u[e]=t)})),u}},4686:(t,e,r)=>{"use strict";r.d(e,{JW:()=>f,Mr:()=>o,lW:()=>a,s3:()=>u,sO:()=>c});var i=r(1473),n=r(9630),s=r(6429);function o(t,e,r){(0,i.eq)().set((0,i.eq)().subarray(e,e+r),t)}function a(t,e,r){(0,i.eq)().set(r.subarray(0,e),t)}function c(t,e,r){(0,i.eq)().subarray(t,t+r).fill(e)}function f(t,e){return s._7?u(t,e):new n.A(t,e)}function u(t,e){return(0,i.eq)().subarray(t,t+e)}},9921:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(1499),n=r(7672),s=r(6704);function o(t){return n.ai(t)?s.i[t]||0:n.Pc(t)&&t.prototype[i.Og]?t.prototype[i.g7]:0}},9170:(t,e,r)=>{"use strict";r.d(e,{A:()=>f});var i=r(1499),n=r(98),s=r(5323),o=r(5797),a=r(7672),c=r(534);function f(t,e){return arguments[2]&&a.Yj(arguments[2])&&(e=e.prototype,c.__(arguments[2],(t=>{const r=e[i.JY];e=r.get(t)[0]}))),o.A.proxy?(0,n.I_)(t,e):(0,s.l)(t,e)}},4300:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var i=r(1473),n=r(1499),s=r(98),o=r(5323),a=r(5797);function c(t){const e=t[n.o9];e&&(i.s_.free(e),t[n.o9]=0,a.A.proxy?(0,s.SQ)(t):(0,o.X)(t))}},1499:(t,e,r)=>{"use strict";r.d(e,{JY:()=>f,Og:()=>s,dc:()=>a,g7:()=>o,kE:()=>u,o9:()=>c});var i=r(5062),n=r.n(i);const s=n()("Struct"),o=n()("StructLength"),a=n()("StructMaxBaseTypeByteLength"),c=n()("StructAddress"),f=(n()("StructKeysQueue"),n()("StructKeysMeta")),u=(n()("StructKeysInstance"),n()("StructProxyRevoke"))},46:(t,e,r)=>{"use strict";let i,n,s,o,a,c,f,u,h,l,d,p,A,g;function m(t){t.add&&(i=t.add),t.sub&&(n=t.sub),t.and&&(s=t.and),t.or&&(o=t.or),t.xor&&(a=t.xor),t.store&&(c=t.store),t.load&&(f=t.load),t.compareExchange&&(u=t.compareExchange),t.exchange&&(h=t.exchange),t.notify&&(l=t.notify),t.wait&&(d=t.wait),t.waitTimeout&&(p=t.waitTimeout),t.waitAsync&&(A=t.waitAsync),t.waitTimeoutAsync&&(g=t.waitTimeoutAsync)}r.d(e,{$Z:()=>m,Hh:()=>f,M_:()=>c,WQ:()=>i,jb:()=>n,me:()=>l,p_:()=>u,uk:()=>d})},3856:(t,e,r)=>{"use strict";r.d(e,{A:()=>P});var i=r(4001),n=r.n(i),s=r(6932),o=r(7972),a=r(46),c=r(6429),f=r(9638),u=r(6834);let h;function l(t,e,r,i){{const n=h(r),s=t>>>i,o=n[s];return n[s]+=e,o}}function d(t,e,r,i){{const n=h(r),s=t>>>i,o=n[s];return n[s]-=e,o}}function p(t,e,r,i){{const n=h(r),s=t>>>i,o=n[s];return n[s]&=e,o}}function A(t,e,r,i){{const n=h(r),s=t>>>i,o=n[s];return n[s]|=e,o}}function g(t,e,r,i){{const n=h(r),s=t>>>i,o=n[s];return n[s]^=e,o}}function m(t,e,r,i){{const n=h(r),s=t>>>i,o=n[s];return n[s]=e,o}}function y(t,e,r){return h(e)[t>>>r]}function v(t,e,r,i,n){{const s=h(i),o=t>>>n,a=s[o];return a===e&&(s[o]=r),a}}function w(t,e,r,i){{const n=h(r),s=t>>>i,o=n[s];return n[s]=e,o}}function b(t,e){}c._7||(0,f.A)()||!u.A.chrome||u.A.checkVersion(u.A.majorVersion,"94",!0);const x={ok:0,"not-equal":1,"timed-out":2};function I(t,e){return x[Atomics.wait(h(16),t>>>2,e)]}function U(t,e,r){return x[Atomics.wait(h(16),t>>>2,e,r)]}async function _(t,e){if(Atomics.waitAsync){const r=Atomics.waitAsync(h(16),t>>>2,e);return r.async?x[await r.value]:x[r.value]}if(y(t)!==e)return 1;for(;y(t)===e;)await new(n())((t=>{(0,o.A)((()=>{t()}))}));return 0}async function S(t,e,r){if(Atomics.waitAsync){const i=Atomics.waitAsync(h(16),t>>>2,e,r);return i.async?x[await i.value]:x[i.value]}if(y(t)!==e)return 1;{const i=(0,s.A)();for(;y(t)===e&&(0,s.A)()-i<r;)await new(n())((t=>{(0,o.A)((()=>{t()}))}));return y(t)!==e?0:2}}function P(t){h=t,(0,a.$Z)({add:l,sub:d,and:p,or:A,xor:g,store:m,load:y,compareExchange:v,exchange:w,notify:b,wait:I,waitTimeout:U,waitAsync:_,waitTimeoutAsync:S})}},3783:(t,e,r)=>{"use strict";r.d(e,{Tl:()=>p,eu:()=>l,s2:()=>d,zr:()=>A});var i,n,s=r(134),o=r(662),a=r.n(o),c=r(1499),f=r(2085),u=r(46),h=r(9638);class l{constructor(){(0,s.A)(this,"atomic",void 0)}}function d(t,e=!1){let r;if(0!==(r=u.p_(t,0,1,16,2)))do{2!=r&&0===u.p_(t,1,2,16,2)||!e&&(0,h.A)()&&u.uk(t,2)}while(0!==(r=u.p_(t,0,2,16,2)));return 0}function p(t){return 1!==u.jb(t,1,16,2)&&(u.M_(t,0,16,2),u.me(t,1)),0}function A(t){return u.M_(t,0,16,2),0}i=l.prototype,(n=new(a())).set("atomic",{0:16,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),(0,f.A)(i,c.Og,!0),(0,f.A)(i,c.dc,4),(0,f.A)(i,c.g7,4),(0,f.A)(i,c.JY,n)},6704:(t,e,r)=>{"use strict";r.d(e,{i:()=>i});const i={2:1,3:1,4:1,5:1,6:2,7:2,8:4,9:4,10:8,11:1,12:1,13:2,14:2,15:4,16:4,17:8,18:4,19:8,20:4,0:4,1:4,22:8,21:8,23:1,24:1}},4504:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(2148);function n(t,e,r=!1){const n=e.split("."),s=t.split(".");for(let t=0;t<s.length;t++){if(r&&t==s.length-1&&(0,i.A)(s[t])>=(0,i.A)(n[t]))return s.length>=n.length;if((0,i.A)(s[t])>(0,i.A)(n[t]))return!0;if((0,i.A)(s[t])<(0,i.A)(n[t]))return!1;if(t===n.length-1&&t===s.length-1)return r;if(t===n.length-1)return!0;if(t===s.length-1)return!1}return!0}},2647:(t,e,r)=>{"use strict";function i(t,e){if(!e.length)return null;if(1===e.length)return e[0];let r,i=0;for(r of e)i+=r.length;let n=new t(i),s=0;for(r of e)n.set(r,s),s+=r.length;return n}r.d(e,{A:()=>i})},6932:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(5249),n=r.n(i);function s(){return n()()}},4568:(t,e,r)=>{"use strict";function i(){return"function"==typeof registerProcessor&&"number"==typeof sampleRate&&"number"==typeof currentFrame&&"number"==typeof currentTime}r.d(e,{A:()=>i})},4677:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(576);function n(t){return t!==i.ZH}},9135:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(4677);let n;function s(){if((0,i.A)(n))return n;const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),n=256===new Int16Array(t)[0],n}},491:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(7672),n=r(2100),s=r(525);function o(t){return i.Pc(t)&&s.zy((0,n.A)(t),"[native code]")}},9638:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(4677),n=r(4568);function s(){return!("object"==typeof window&&(0,i.A)(window.document)||(0,n.A)())}},7972:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var i=r(4236),n=r.n(i),s=r(491),o=r(576);let a;typeof n()===o.s0&&(0,s.A)(n())&&(a=n()),a=typeof MessageChannel===o.s0&&(0,s.A)(MessageChannel)?function(t){const e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:"function"==typeof setTimeout?setTimeout:function(t){setTimeout(t)};const c=a},2148:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(7672),n=r(576);function s(t,e){return i.sH(t)?+t:e!==n.ZH?e:0}},2100:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(576);function n(t,e){return t!=i.Cq&&t.toString?t.toString():e!==i.ZH?e:i.u1}},1403:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(134),n=r(7672);class s{constructor(){(0,i.A)(this,"proxy",void 0),this.proxy=new Proxy(this,{get:(t,e,r)=>n.sH(e)?t.getIndexValue(+e):t[e],set:(t,e,r,i)=>(n.sH(e)?t.setIndexValue(+e,r):t[e]=r,!0)})}}},7246:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(134),n=r(4624);class s{constructor(t=1048576){(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"bitsLeft",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"endPointer",void 0),(0,i.A)(this,"error",void 0),(0,i.A)(this,"onFlush",void 0),this.pointer=0,this.bitsLeft=8,this.size=t,this.endPointer=0,this.error=0,this.buffer=new Uint8Array(this.size)}peekU1(){let t=0;(this.remainingLength()<1||1===this.remainingLength()&&0===this.bitsLeft)&&this.flush();let e=this.pointer,r=this.bitsLeft;return 0===r&&(e++,r=8),t=this.buffer[e]>>r-1&1,t}readU1(){let t=0;return(this.remainingLength()<1||1===this.remainingLength()&&0===this.bitsLeft)&&this.flush(),this.bitsLeft--,t=this.buffer[this.pointer]>>this.bitsLeft&1,0===this.bitsLeft&&(this.pointer++,this.bitsLeft=8),t}readU(t){let e=0;for(let r=0;r<t;r++)e|=this.readU1()<<t-r-1;return e}remainingLength(){return this.endPointer-this.pointer}getPos(){return this.pointer}skip(t){const e=(t-t%8)/8;this.pointer+=e;const r=t%8;this.bitsLeft<=r?(this.pointer++,this.bitsLeft=8-(r-this.bitsLeft)):this.bitsLeft-=r}flush(){if(!this.onFlush)throw this.error=-1048574,Error("IOReader error, flush failed because of no flush callback");if(0===this.bitsLeft&&this.pointer++,!(this.size-this.remainingLength()<=0))if(this.pointer<this.endPointer){this.buffer.set(this.buffer.subarray(this.pointer,this.endPointer),0);const t=this.onFlush(this.buffer.subarray(this.endPointer-this.pointer,this.size));if(t<0)throw this.error=t,Error("IOReader error, flush failed");this.endPointer=this.endPointer-this.pointer+t,this.pointer=0}else{const t=this.onFlush(this.buffer);if(this.endPointer=t,this.pointer=0,this.bitsLeft=8,t<0)throw this.error=t,Error("IOReader error, flush failed")}}getBuffer(){return this.buffer}appendBuffer(t){if(this.size-this.endPointer>=t.length)this.buffer.set(t,this.endPointer),this.endPointer+=t.length;else if(this.buffer.set(this.buffer.subarray(this.pointer,this.endPointer),0),this.endPointer=this.endPointer-this.pointer,this.pointer=0,this.size-this.endPointer>=t.length)this.buffer.set(t,this.endPointer),this.endPointer+=t.length;else{const e=Math.min(this.size-this.endPointer,t.length);this.buffer.set(t.subarray(0,e),this.endPointer),this.endPointer+=e,n.R8("BSReader, call appendBuffer but the buffer's size is lagger then the remaining size","src/common/io/BitReader.ts",190)}}clear(){this.pointer=this.endPointer=0,this.bitsLeft=8,this.error=0}skipPadding(){this.bitsLeft<8&&(this.bitsLeft=8,this.pointer++)}}},3314:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(134);class n{constructor(t=1048576){(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"bitPointer",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"error",void 0),(0,i.A)(this,"onFlush",void 0),this.pointer=0,this.bitPointer=0,this.size=t,this.error=0,this.buffer=new Uint8Array(this.size)}writeU1(t){(this.remainingLength()<1||1===this.remainingLength()&&this.bitPointer>=8)&&this.flush(),1&t?this.buffer[this.pointer]|=1<<7-this.bitPointer:this.buffer[this.pointer]&=~(1<<7-this.bitPointer),this.bitPointer++,8===this.bitPointer&&(this.pointer++,this.bitPointer=0)}writeU(t,e){for(let r=0;r<t;r++)this.writeU1(e>>t-r-1&1)}remainingLength(){return this.size-this.pointer}flush(){if(!this.onFlush)throw this.error=-1048574,Error("BSWriter error, flush failed because of no flush callback");if(this.pointer)if(this.bitPointer&&this.pointer>1){const t=this.onFlush(this.buffer.subarray(0,this.pointer-1));if(0!==t)throw this.error=t,Error("BSWriter error, flush failed");this.buffer[0]=this.buffer[this.pointer]}else if(0===this.bitPointer){const t=this.onFlush(this.buffer.subarray(0,this.pointer));if(0!==t)throw this.error=t,Error("BSWriter error, flush failed")}this.pointer=0}padding(){for(;0!==this.bitPointer;)this.writeU1(0)}clear(){this.pointer=0,this.bitPointer=0,this.error=0}getBuffer(){return this.buffer}getPointer(){return this.pointer}}},1865:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(134),n=r(2647),s=r(11);class o{constructor(t,e=!0){(0,i.A)(this,"data",void 0),(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"byteStart",void 0),(0,i.A)(this,"pos",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"littleEndian",void 0),this.buffer=t,this.data=t instanceof Uint8Array?new DataView(t.buffer):t.view,this.byteStart=t instanceof Uint8Array?t.byteOffset:0,this.pos=0,this.size=t.byteLength,this.littleEndian=!e}readUint8(){return this.data.getUint8(this.pos+++this.byteStart)}readUint16(){const t=this.data.getUint16(this.pos+this.byteStart,this.littleEndian);return this.pos+=2,t}readUint24(){return this.readUint16()<<8|this.readUint8()}readUint32(){const t=this.data.getUint32(this.pos+this.byteStart,this.littleEndian);return this.pos+=4,t}readUint64(){const t=BigInt(this.readUint32()),e=BigInt(this.readUint32());return this.littleEndian?e<<BigInt(32)|t:t<<BigInt(32)|e}readInt8(){return this.data.getInt8(this.pos+++this.byteStart)}readInt16(){const t=this.data.getInt16(this.pos+this.byteStart,this.littleEndian);return this.pos+=2,t}readInt32(){const t=this.data.getInt32(this.pos+this.byteStart,this.littleEndian);return this.pos+=4,t}readInt64(){const t=BigInt(this.readInt32()),e=BigInt(this.readInt32());return this.littleEndian?e<<BigInt(32)|t:t<<BigInt(32)|e}readFloat(){const t=this.data.getFloat32(this.pos+this.byteStart,this.littleEndian);return this.pos+=4,t}readDouble(){const t=this.data.getFloat64(this.pos+this.byteStart,this.littleEndian);return this.pos+=8,t}readHex(t=1){let e="";for(let r=0;r<t;r++){const t=this.readUint8().toString(16);e+=1===t.length?"0"+t:t}return e}readString(t=1){let e="";if(t){let r=this.pos;for(let e=0;e<t&&0===this.buffer[this.pos+e];e++)r++;e=s.D(this.buffer.subarray(r,r+t))}return this.pos+=t,e}readLine(){let t="";for(let e=this.pos;e<this.size;e++)if(10===this.buffer[e]||13===this.buffer[e]){t+=this.readString(e-this.pos);break}for(let t=this.pos;t<this.size&&(10===this.buffer[t]||13===this.buffer[t]);t++)this.readUint8();return t}getPos(){return BigInt(this.pos)}seek(t){t>this.size&&(t=this.size),this.pos=Math.max(0,t)}skip(t){this.seek(this.pos+t)}back(t){this.seek(this.pos-t)}remainingSize(){return this.size-this.pos}readBuffer(t){t=Math.min(t,this.remainingSize());const e=this.buffer.slice(this.pos,this.pos+t);return this.pos+=t,e}appendBuffer(t){this.buffer=(0,n.A)(Uint8Array,[this.buffer.slice(),t.slice()]),this.data=new DataView(this.buffer.buffer),this.size+=t.byteLength,this.byteStart=0}resetBuffer(t,e=!0){this.buffer=t,this.data=t instanceof Uint8Array?new DataView(t.buffer):t.view,this.byteStart=t instanceof Uint8Array?t.byteOffset:0,this.pos=0,this.size=t.byteLength,this.littleEndian=!e}}},729:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var i=r(134),n=r(4624),s=r(11);class o{constructor(t,e=!0){(0,i.A)(this,"data",void 0),(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"byteStart",void 0),(0,i.A)(this,"pos",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"littleEndian",void 0),this.buffer=t,this.data=t instanceof Uint8Array?new DataView(t.buffer):t.view,this.byteStart=t instanceof Uint8Array?t.byteOffset:0,this.pos=0,this.size=t.byteLength,this.littleEndian=!e}writeUint8(t){this.data.setUint8(this.pos+++this.byteStart,t)}writeUint16(t){this.data.setUint16(this.pos+this.byteStart,t,this.littleEndian),this.pos+=2}writeUint24(t){const e=3840&t,r=240&t,i=15&t;this.littleEndian?(this.writeUint8(i),this.writeUint8(r),this.writeUint8(e)):(this.writeUint8(e),this.writeUint8(r),this.writeUint8(i))}writeUint32(t){this.data.setUint32(this.pos+this.byteStart,t,this.littleEndian),this.pos+=4}writeUint64(t){const e=t&BigInt(4294967295),r=(t&BigInt(4294967295)<<BigInt(32))>>BigInt(32);this.littleEndian?(this.writeUint32(Number(e)),this.writeUint32(Number(r))):(this.writeUint32(Number(r)),this.writeUint32(Number(e)))}writeInt8(t){this.data.setInt8(this.pos+++this.byteStart,t)}writeInt16(t){this.data.setInt16(this.pos+this.byteStart,t,this.littleEndian),this.pos+=2}writeInt32(t){this.data.setInt32(this.pos+this.byteStart,t,this.littleEndian),this.pos+=4}writeInt64(t){const e=t&BigInt(4294967295),r=(t&BigInt(4294967295)<<BigInt(32))>>BigInt(32);this.littleEndian?(this.writeInt32(Number(e)),this.writeInt32(Number(r))):(this.writeInt32(Number(r)),this.writeInt32(Number(e)))}writeFloat(t){this.data.setFloat32(this.pos+this.byteStart,t,this.littleEndian),this.pos+=4}writeDouble(t){this.data.setFloat64(this.pos+this.byteStart,t,this.littleEndian),this.pos+=8}getPos(){return this.pos}seek(t){t>this.size&&(t=this.size),this.pos=Math.max(0,t)}skip(t){this.seek(this.pos+t)}back(t){this.seek(this.pos-t)}remainingSize(){return this.size-this.pos}writeBuffer(t){let e=t.length;this.remainingSize()<e&&(e=this.remainingSize(),n.R8(`the remaining buffer size is smaller then the wrote buffer, hope set ${t.length}, but set ${e}`,"src/common/io/BufferWriter.ts",211)),this.buffer.set(t,this.pos),this.pos+=t.length}writeString(t){const e=s.l(t);return this.writeBuffer(e),e.length}getWroteBuffer(){return this.buffer.subarray(0,this.pos)}resetBuffer(t,e=!0){this.buffer=t,this.data=t instanceof Uint8Array?new DataView(t.buffer):t.view,this.byteStart=t instanceof Uint8Array?t.byteOffset:0,this.pos=0,this.size=t.byteLength,this.littleEndian=!e}}},5336:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(134),n=r(11);class s{constructor(t=1048576,e=!0,r){if((0,i.A)(this,"data",void 0),(0,i.A)(this,"buffer",void 0),(0,i.A)(this,"pointer",void 0),(0,i.A)(this,"pos",void 0),(0,i.A)(this,"size",void 0),(0,i.A)(this,"littleEndian",void 0),(0,i.A)(this,"error",void 0),(0,i.A)(this,"onFlush",void 0),(0,i.A)(this,"onSeek",void 0),this.pointer=0,this.pos=BigInt(0),this.size=t,this.littleEndian=!e,this.error=0,r&&r.view)this.size=r.length,this.buffer=r,this.data=r.view;else if(r&&!r.byteOffset)this.size=r.length,this.buffer=r,this.data=new DataView(this.buffer.buffer);else{if(r)throw new Error("not support subarray of ArrayBuffer");this.buffer=new Uint8Array(this.size),this.data=new DataView(this.buffer.buffer)}}writeUint8(t){this.remainingLength()<1&&this.flush(),this.data.setUint8(this.pointer,t),this.pointer++,this.pos++}writeUint16(t){this.remainingLength()<2&&this.flush(),this.data.setUint16(this.pointer,t,this.littleEndian),this.pointer+=2,this.pos+=BigInt(2)}writeUint24(t){this.remainingLength()<3&&this.flush();const e=(16711680&t)>>16,r=(65280&t)>>8,i=255&t;this.littleEndian?(this.writeUint8(i),this.writeUint8(r),this.writeUint8(e)):(this.writeUint8(e),this.writeUint8(r),this.writeUint8(i))}writeUint32(t){this.remainingLength()<4&&this.flush(),this.data.setUint32(this.pointer,t,this.littleEndian),this.pointer+=4,this.pos+=BigInt(4)}writeUint64(t){this.remainingLength()<8&&this.flush(),this.data.setBigUint64(this.pointer,t,this.littleEndian),this.pointer+=8,this.pos+=BigInt(8)}writeInt8(t){this.remainingLength()<1&&this.flush(),this.data.setInt8(this.pointer,t),this.pointer++,this.pos++}writeInt16(t){this.remainingLength()<2&&this.flush(),this.data.setInt16(this.pointer,t,this.littleEndian),this.pointer+=2,this.pos+=BigInt(2)}writeInt32(t){this.remainingLength()<4&&this.flush(),this.data.setInt32(this.pointer,t,this.littleEndian),this.pointer+=4,this.pos+=BigInt(4)}writeInt64(t){this.remainingLength()<8&&this.flush(),this.data.setBigInt64(this.pointer,t,this.littleEndian),this.pointer+=8,this.pos+=BigInt(8)}writeFloat(t){this.remainingLength()<4&&this.flush(),this.data.setFloat32(this.pointer,t,this.littleEndian),this.pointer+=4,this.pos+=BigInt(4)}writeDouble(t){this.remainingLength()<8&&this.flush(),this.data.setFloat64(this.pointer,t,this.littleEndian),this.pointer+=8,this.pos+=BigInt(8)}getPointer(){return this.pointer}getPos(){return this.pos}remainingLength(){return this.size-this.pointer}writeBuffer(t){if(!t.length)return;let e=t.length;if(this.remainingLength()<e){let r=0;for(;e>0;){this.flush();const i=Math.min(this.size,e);this.buffer.set(t.subarray(r,r+i),this.pointer),this.pointer+=i,this.pos+=BigInt(i),r+=i,e-=i}}else this.buffer.set(t,this.pointer),this.pointer+=e,this.pos+=BigInt(e)}writeString(t){const e=n.l(t);return this.writeBuffer(e),e.length}encodeString(t){return n.l(t)}flush(){if(!this.onFlush)throw this.error=-1048574,Error("IOWriter error, flush failed because of no flush callback");if(this.pointer){const t=this.onFlush(this.buffer.subarray(0,this.pointer));if(0!==t)throw this.error=t,Error("IOWriter error, flush failed")}this.pointer=0}flushToPos(t){if(!this.onFlush)throw this.error=-1048574,Error("IOWriter error, flush failed because of no flush callback");if(this.pointer){const e=this.onFlush(this.buffer.subarray(0,this.pointer),t);if(0!==e)throw this.error=e,Error("IOWriter error, flush failed")}this.pointer=0}seek(t){if(!this.onSeek)throw this.error=-1048574,Error("IOWriter error, seek failed because of no seek callback");this.flush();const e=this.onSeek(t);if(0!==e)throw this.error=e,Error("IOWriter error, seek failed");this.pos=t}seekInline(t){const e=this.pointer;this.pointer=Math.max(0,Math.min(this.size,t)),this.pos+=BigInt(this.pointer-e)}skip(t){const e=this.pointer;this.pointer=Math.min(this.size,this.pointer+t),this.pos+=BigInt(this.pointer-e)}back(t){const e=this.pointer;this.pointer=Math.max(0,this.pointer-t),this.pos+=BigInt(this.pointer-e)}getBuffer(){return this.buffer.subarray(0,this.pointer)}setEndian(t){this.littleEndian=!t}reset(){this.pointer=0,this.pos=BigInt(0),this.error=0}getBufferSize(){return this.size}}},2739:(t,e,r)=>{"use strict";r.d(e,{TF:()=>s,__:()=>n,zy:()=>o});var i=r(576);function n(t,e,r){if(!t)return;const{length:n}=t;if(n)if(r)for(let r=n-1;r>=0&&e(t[r],r)!==i.W8;r--);else for(let r=0;r<n&&e(t[r],r)!==i.W8;r++);}function s(t,e,r){let s=0;return n(t,(function(n,o){(r===i.W8?n==e:n===e)&&(t.splice(o,1),s++)}),i.rT),s}function o(t,e,r){return function(t,e,r){let s=i.Cy;return n(t,(function(t,n){if(r===i.W8?t==e:t===e)return s=n,i.W8})),s}(t,e,r)>=0}},4919:(t,e,r)=>{"use strict";r.d(e,{E_:()=>s});var i=r(2739);const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(t){const e="function"==typeof atob?atob(t):function(t){function e(t){const e=n.indexOf(t);return-1===e?0:e}let r="";for(let i=0;i<t.length;){const n=e(t[i++]),s=e(t[i++]),o=e(t[i++]),a=e(t[i++]),c=n<<2|s>>4,f=(15&s)<<4|o>>2,u=(3&o)<<6|a;r+=String.fromCharCode(c),64!==o&&(r+=String.fromCharCode(f)),64!==a&&(r+=String.fromCharCode(u))}return r}(t),r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}const o={};i.__(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],((t,e)=>{o[t]=e}))},6834:(t,e,r)=>{"use strict";r.d(e,{A:()=>d});var i=r(2348),n=r.n(i),s=r(2739),o=r(7672),a=r(4504);function c(t){return o.Yj(t)&&t.split(".").shift()||""}const f=[["alipay",/alipay/],["wechat",/micromessenger/],["dingtalk",/dingtalk[ \/]([\d_.]+)/],["baiduApp",/baiduboxapp/],["baidu",/baidubrowser/],["baidu",/bdbrowser/],["uc",/ucbrowser/],["uc",/ucweb/],["qq",/qqbrowser/],["qqApp",/qq/],["ie",/iemobile[ \/]([\d_.]+)/],["ie",/msie[ \/]([\d_.]+)/],["ie",/trident[ \/]([\d_.]+)/,4],["edge",/edge[ \/]([\d_.]+)/],["newEdge",/edg[ \/]([\d_.]+)/],["chrome",/chrome[ \/]([\d_.]+)/],["firefox",/firefox[ \/]([\d_.]+)/],["opera",/opera(?:.*version)?[ \/]([\d_.]+)/],["safari",/version[ \/]([\d_.]+) safari/],["safari",/version[ \/]([\d_.]+) \S* safari/],["safari",/safari/]],u={},h={},l=function(t){let e,r;return(0,s.__)(f,(i=>{let s=i[1].exec(t);if(s)return e=i[0],r=s[1],r&&(r=r.replace(/_/g,"."),i[2]&&(r=n()(r,10)+i[2]+".0")),!1})),{name:e||"",version:r||"",majorVersion:(u[e]||c)(r),checkVersion:h[e]||a.A}}(("object"==typeof navigator&&navigator.userAgent||"").toLowerCase());l.name&&(l[l.name]=!0);const d=l},576:(t,e,r)=>{"use strict";r.d(e,{Cq:()=>a,Cy:()=>f,M_:()=>p,TK:()=>A,W8:()=>o,ZG:()=>l,ZH:()=>c,aV:()=>u,jf:()=>d,rT:()=>s,s0:()=>h,u1:()=>m,x7:()=>g});var i=r(7403),n=r.n(i);const s=!0,o=!1,a=null,c=void 0,f=-1,u="undefined",h="function",l=".",d=typeof window!==u?window:c,p=(typeof document!==u&&document,typeof globalThis!==u?globalThis:typeof r.g!==u?r.g:d),A=typeof self!==u?self:p,g=function(){},m=(n()({}),n()([]),"")},7672:(t,e,r)=>{"use strict";r.d(e,{Ik:()=>a,Pc:()=>o,Yj:()=>c,ai:()=>f,sH:()=>u}),r(8632);var i=r(8032),n=r.n(i),s=r(576);function o(t){return typeof t===s.s0}function a(t){return t!==s.Cq&&"object"==typeof t}function c(t){return"string"==typeof t}function f(t){return"number"==typeof t&&!isNaN(t)}function u(t){return f(t)||c(t)&&!isNaN(n()(t))&&isFinite(+t)}},534:(t,e,r)=>{"use strict";r.d(e,{__:()=>s});var i=r(576);const n={};function s(t,e){const r=n.hasOwnProperty(t)?n[t]:n[t]=t.split(i.ZG);for(let t=0,n=r.length-1;t<=n&&e(r[t],t===n)!==i.W8;t++);}},4624:(t,e,r)=>{"use strict";r.d(e,{R8:()=>A,h2:()=>m,z3:()=>g});var i=r(576),n=r(2100);const s=0,o=3,a=4,c=5,f=typeof console!==i.aV?console:i.Cq,u=/common/.test((0,n.A)(i.x7))?2:o,h=(i.jf&&/edge|msie|trident/i.test(i.jf.navigator.userAgent),i.u1),l=f?h?function(t,e,r){f.log(h+t,r,e)}:function(t,e){f.log(t,e)}:i.x7;function d(){if(i.M_){const t=i.TK.COMMON_LOG_LEVEL;if(t>=s&&t<=c)return t}return u}function p(t){return`background-color:${t};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}function A(t,e,r){d()<=o&&l(`[${arguments[1]}][line ${arguments[2]}] [warn]`,t,p("#f90"))}function g(t,e,r){d()<=a&&l(`[${arguments[1]}][line ${arguments[2]}] [error]`,t,p("#ed4014"))}function m(t,e,r){if(d()<=c)throw g(t,e,r),new Error(`[${arguments[1]}][line ${arguments[2]}] [fatal]: ${t}`)}},5335:(t,e,r)=>{"use strict";r.d(e,{X$:()=>a,__:()=>s}),r(9736);var i=r(7672),n=r(576);function s(t,e){for(let r in t)if(e(t[r],r)===n.W8)break}function o(t,e){return i.Ik(t)?i.Ik(e)?(s(e,(function(e,r){t[r]=e})),t):t:e}function a(t,e,r){return o(o(t,e),r)}},525:(t,e,r)=>{"use strict";r.d(e,{zy:()=>n}),r(2348);var i=r(576);function n(t,e){return function(t,e,r){return t.indexOf(e,r!==i.ZH?r:0)}(t,e)>=0}},5797:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(6834);const n=function(){let t="function"==typeof Blob,e="object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate,r="function"==typeof fetch,n="object"==typeof document&&document.createElement("canvas"),s=n&&!!n.getContext("webgl"),o="function"==typeof OffscreenCanvas,a="function"==typeof Worker,c="function"==typeof ArrayBuffer,f="object"==typeof Atomics,u="function"==typeof AudioContext||"function"==typeof webkitAudioContext,h="function"==typeof AudioWorklet,l="function"==typeof VideoDecoder,d="function"==typeof VideoEncoder,p="function"==typeof AudioDecoder,A="function"==typeof AudioEncoder,g="function"==typeof SharedArrayBuffer,m="function"==typeof MediaSource||"function"==typeof ManagedMediaSource,y="function"==typeof Proxy,v=a&&g&&f&&y,w="function"==typeof WebAssembly.Suspending&&"function"==typeof WebAssembly.promising;i.A.safari&&!i.A.checkVersion(i.A.majorVersion,"11",!0)&&(e=!1),i.A.chrome&&!i.A.checkVersion(i.A.majorVersion,"94",!0)&&(l=!1,p=!1),i.A.safari&&!i.A.checkVersion(i.A.majorVersion,"17",!0)&&(l=!1);let b="object"==typeof navigator&&"object"==typeof navigator.gpu,x="function"==typeof MediaSourceHandle,I=e&&"function"==typeof WebAssembly.Global;return{browser:i.A,blob:t,wasm:e,fetch:r,webgl:s,worker:a,mse:m,arrayBuffer:c,audioContext:u,audioWorklet:h,videoDecoder:l,videoEncoder:d,audioDecoder:p,audioEncoder:A,atomics:f,shareArrayBuffer:g,thread:v,webgpu:b,offscreenCanvas:o,workerMSE:x,webAssemblyGlobal:I,jspi:w,proxy:y,simd:(i.A.chrome||i.A.newEdge)&&i.A.checkVersion(i.A.majorVersion,"91",!0)||i.A.firefox&&i.A.checkVersion(i.A.majorVersion,"89",!0)||i.A.safari&&i.A.checkVersion(i.A.version,"16.4",!0),wasmBaseSupported:r&&e&&s&&u&&c&&I}}()},11:(t,e,r)=>{"use strict";r.d(e,{D:()=>o,l:()=>s});const i="function"==typeof TextEncoder?new TextEncoder:null,n="function"==typeof TextDecoder?new TextDecoder:null;function s(t){if(i)return i.encode(t);const e=[];for(let r=0;r<t.length;++r){let i=t.charCodeAt(r);i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++r)),i<=127?e.push(i):i<=2047?(e.push(192|i>>6),e.push(128|63&i)):i<=65535?(e.push(224|i>>12),e.push(128|i>>6&63),e.push(128|63&i)):(e.push(240|i>>18),e.push(128|i>>12&63),e.push(128|i>>6&63),e.push(128|63&i))}return new Uint8Array(e)}function o(t){if(t instanceof Uint8Array&&n&&!("function"==typeof SharedArrayBuffer&&t.buffer instanceof SharedArrayBuffer))return n.decode(t);let e="";for(let r=0;r<t.length;){let i=t[r++>>>0];if(!(128&i)){e+=String.fromCharCode(i);continue}let n=63&t[r++>>>0];if(192==(224&i)){e+=String.fromCharCode((31&i)<<6|n);continue}let s=63&t[r++>>>0];if(i=224==(240&i)?(15&i)<<12|n<<6|s:(7&i)<<18|n<<12|s<<6|63&t[r++>>>0],i<65536)e+=String.fromCharCode(i);else{let t=i-65536;e+=String.fromCharCode(55296|t>>10,56320|1023&t)}}return e}},8096:(t,e,r)=>{"use strict";r.d(e,{DD:()=>o});var i=r(1865);function n(t){let e=0,r=0;for(;;){const i=t.readUint8();if(e|=(127&i)<<r,r+=7,!(128&i))break}return e}function s(t){let e,r=0,i=0;for(;e=t.readUint8(),r|=(127&e)<<i,i+=7,128&e;);return 64&e&&(r|=-1<<i),r}function o(t,e){const r=new i.A(t,!0);for(r.skip(8);r.remainingSize();){const i=r.readUint8(),o=n(r);if(2===i){let i=n(r);for(;i--;){const i=n(r);r.skip(i);const o=n(r);switch(r.skip(o),r.readUint8()){case 0:n(r);break;case 3:s(r),n(r);break;case 2:{const i=Number(r.getPos());return void(t[i]=e?2|t[i]:-3&t[i])}case 1:{s(r);const t=n(r);n(r),1&t&&n(r);break}}}return}r.skip(o)}}},7149:(t,e,r)=>{r(8355),r(6438).Array.isArray},7172:(t,e,r)=>{r(3204),t.exports=r(6438).Date.now},2861:(t,e,r)=>{r(8978),r(7863),r(7914),r(6050),r(8337),r(4674),r(2223),t.exports=r(6438).Map},2696:(t,e,r)=>{r(4712);var i=r(6438).Object;t.exports=function(t,e,r){return i.defineProperty(t,e,r)}},2948:(t,e,r)=>{r(1780),t.exports=r(6438).Object.freeze},2160:(t,e,r)=>{r(8128),t.exports=r(6438).Object.getPrototypeOf},7567:(t,e,r)=>{r(6847),r(6438).Object.keys},1724:(t,e,r)=>{r(4284),t.exports=r(6438).Object.setPrototypeOf},7279:(t,e,r)=>{r(5828),t.exports=r(6438).parseFloat},5216:(t,e,r)=>{r(5331),t.exports=r(6438).parseInt},4750:(t,e,r)=>{r(8978),r(7863),r(7914),r(1229),r(2639),r(6121),t.exports=r(6438).Promise},1707:(t,e,r)=>{r(6801),t.exports=r(6438).setImmediate},6560:(t,e,r)=>{r(9626),r(8978),r(2860),r(716),t.exports=r(6438).Symbol},4220:(t,e,r)=>{r(7863),r(7914),t.exports=r(4336).f("iterator")},9967:(t,e,r)=>{t.exports=r(4336).f("toPrimitive")},5219:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},2560:t=>{t.exports=function(){}},2832:t=>{t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},812:(t,e,r)=>{var i=r(4401);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},7076:(t,e,r)=>{var i=r(5838);t.exports=function(t,e){var r=[];return i(t,!1,r.push,r,e),r}},4448:(t,e,r)=>{var i=r(5133),n=r(181),s=r(2917);t.exports=function(t){return function(e,r,o){var a,c=i(e),f=n(c.length),u=s(o,f);if(t&&r!=r){for(;f>u;)if((a=c[u++])!=a)return!0}else for(;f>u;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}},600:(t,e,r)=>{var i=r(8852),n=r(7001),s=r(6310),o=r(181),a=r(9244);t.exports=function(t,e){var r=1==t,c=2==t,f=3==t,u=4==t,h=6==t,l=5==t||h,d=e||a;return function(e,a,p){for(var A,g,m=s(e),y=n(m),v=i(a,p,3),w=o(y.length),b=0,x=r?d(e,w):c?d(e,0):void 0;w>b;b++)if((l||b in y)&&(g=v(A=y[b],b,m),t))if(r)x[b]=g;else if(g)switch(t){case 3:return!0;case 5:return A;case 6:return b;case 2:x.push(A)}else if(u)return!1;return h?-1:f||u?u:x}}},9742:(t,e,r)=>{var i=r(4401),n=r(5461),s=r(254)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),i(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},9244:(t,e,r)=>{var i=r(9742);t.exports=function(t,e){return new(i(t))(e)}},4968:(t,e,r)=>{var i=r(3417),n=r(254)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?r:s?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},3417:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},5933:(t,e,r)=>{"use strict";var i=r(8423).f,n=r(2087),s=r(953),o=r(8852),a=r(2832),c=r(5838),f=r(8839),u=r(322),h=r(5274),l=r(8219),d=r(5172).fastKey,p=r(6096),A=l?"_s":"size",g=function(t,e){var r,i=d(e);if("F"!==i)return t._i[i];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,f){var u=t((function(t,i){a(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[A]=0,null!=i&&c(i,r,t[f],t)}));return s(u.prototype,{clear:function(){for(var t=p(this,e),r=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];t._f=t._l=void 0,t[A]=0},delete:function(t){var r=p(this,e),i=g(r,t);if(i){var n=i.n,s=i.p;delete r._i[i.i],i.r=!0,s&&(s.n=n),n&&(n.p=s),r._f==i&&(r._f=n),r._l==i&&(r._l=s),r[A]--}return!!i},forEach:function(t){p(this,e);for(var r,i=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(i(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(p(this,e),t)}}),l&&i(u.prototype,"size",{get:function(){return p(this,e)[A]}}),u},def:function(t,e,r){var i,n,s=g(t,e);return s?s.v=r:(t._l=s={i:n=d(e,!0),k:e,v:r,p:i=t._l,n:void 0,r:!1},t._f||(t._f=s),i&&(i.n=s),t[A]++,"F"!==n&&(t._i[n]=s)),t},getEntry:g,setStrong:function(t,e,r){f(t,e,(function(t,r){this._t=p(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?u(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,u(1))}),r?"entries":"values",!r,!0),h(e)}}},5874:(t,e,r)=>{var i=r(4968),n=r(7076);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},9373:(t,e,r)=>{"use strict";var i=r(6670),n=r(8535),s=r(5172),o=r(1984),a=r(2677),c=r(953),f=r(5838),u=r(2832),h=r(4401),l=r(1356),d=r(8423).f,p=r(600)(0),A=r(8219);t.exports=function(t,e,r,g,m,y){var v=i[t],w=v,b=m?"set":"add",x=w&&w.prototype,I={};return A&&"function"==typeof w&&(y||x.forEach&&!o((function(){(new w).entries().next()})))?(w=e((function(e,r){u(e,w,t,"_c"),e._c=new v,null!=r&&f(r,m,e[b],e)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in x)||y&&"clear"==t||a(w.prototype,t,(function(r,i){if(u(this,w,t),!e&&y&&!h(r))return"get"==t&&void 0;var n=this._c[t](0===r?0:r,i);return e?this:n}))})),y||d(w.prototype,"size",{get:function(){return this._c.size}})):(w=g.getConstructor(e,t,m,b),c(w.prototype,r),s.NEED=!0),l(w,t),I[t]=w,n(n.G+n.W+n.F,I),y||g.setStrong(w,t,m),w}},6438:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},8852:(t,e,r)=>{var i=r(5219);t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},7608:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},8219:(t,e,r)=>{t.exports=!r(1984)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},3802:(t,e,r)=>{var i=r(4401),n=r(6670).document,s=i(n)&&i(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},7956:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},6473:(t,e,r)=>{var i=r(4311),n=r(9820),s=r(6569);t.exports=function(t){var e=i(t),r=n.f;if(r)for(var o,a=r(t),c=s.f,f=0;a.length>f;)c.call(t,o=a[f++])&&e.push(o);return e}},8535:(t,e,r)=>{var i=r(6670),n=r(6438),s=r(8852),o=r(2677),a=r(5509),c="prototype",f=function(t,e,r){var u,h,l,d=t&f.F,p=t&f.G,A=t&f.S,g=t&f.P,m=t&f.B,y=t&f.W,v=p?n:n[e]||(n[e]={}),w=v[c],b=p?i:A?i[e]:(i[e]||{})[c];for(u in p&&(r=e),r)(h=!d&&b&&void 0!==b[u])&&a(v,u)||(l=h?b[u]:r[u],v[u]=p&&"function"!=typeof b[u]?r[u]:m&&h?s(l,i):y&&b[u]==l?function(t){var e=function(e,r,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,i)}return t.apply(this,arguments)};return e[c]=t[c],e}(l):g&&"function"==typeof l?s(Function.call,l):l,g&&((v.virtual||(v.virtual={}))[u]=l,t&f.R&&w&&!w[u]&&o(w,u,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},1984:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},5838:(t,e,r)=>{var i=r(8852),n=r(7904),s=r(2828),o=r(812),a=r(181),c=r(5298),f={},u={},h=t.exports=function(t,e,r,h,l){var d,p,A,g,m=l?function(){return t}:c(t),y=i(r,h,e?2:1),v=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(s(m)){for(d=a(t.length);d>v;v++)if((g=e?y(o(p=t[v])[0],p[1]):y(t[v]))===f||g===u)return g}else for(A=m.call(t);!(p=A.next()).done;)if((g=n(A,y,p.value,e))===f||g===u)return g};h.BREAK=f,h.RETURN=u},6670:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},5509:t=>{var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},2677:(t,e,r)=>{var i=r(8423),n=r(6260);t.exports=r(8219)?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},3879:(t,e,r)=>{var i=r(6670).document;t.exports=i&&i.documentElement},2484:(t,e,r)=>{t.exports=!r(8219)&&!r(1984)((function(){return 7!=Object.defineProperty(r(3802)("div"),"a",{get:function(){return 7}}).a}))},709:t=>{t.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},7001:(t,e,r)=>{var i=r(3417);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},2828:(t,e,r)=>{var i=r(210),n=r(254)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[n]===t)}},5461:(t,e,r)=>{var i=r(3417);t.exports=Array.isArray||function(t){return"Array"==i(t)}},4401:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},7904:(t,e,r)=>{var i=r(812);t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var s=t.return;throw void 0!==s&&i(s.call(t)),e}}},8248:(t,e,r)=>{"use strict";var i=r(2087),n=r(6260),s=r(1356),o={};r(2677)(o,r(254)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=i(o,{next:n(1,r)}),s(t,e+" Iterator")}},8839:(t,e,r)=>{"use strict";var i=r(4742),n=r(8535),s=r(1331),o=r(2677),a=r(210),c=r(8248),f=r(1356),u=r(6123),h=r(254)("iterator"),l=!([].keys&&"next"in[].keys()),d="keys",p="values",A=function(){return this};t.exports=function(t,e,r,g,m,y,v){c(r,e,g);var w,b,x,I=function(t){if(!l&&t in P)return P[t];switch(t){case d:case p:return function(){return new r(this,t)}}return function(){return new r(this,t)}},U=e+" Iterator",_=m==p,S=!1,P=t.prototype,k=P[h]||P["@@iterator"]||m&&P[m],M=k||I(m),B=m?_?I("entries"):M:void 0,E="Array"==e&&P.entries||k;if(E&&(x=u(E.call(new t)))!==Object.prototype&&x.next&&(f(x,U,!0),i||"function"==typeof x[h]||o(x,h,A)),_&&k&&k.name!==p&&(S=!0,M=function(){return k.call(this)}),i&&!v||!l&&!S&&P[h]||o(P,h,M),a[e]=M,a[U]=A,m)if(w={values:_?M:I(p),keys:y?M:I(d),entries:B},v)for(b in w)b in P||s(P,b,w[b]);else n(n.P+n.F*(l||S),e,w);return w}},7899:(t,e,r)=>{var i=r(254)("iterator"),n=!1;try{var s=[7][i]();s.return=function(){n=!0},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var s=[7],o=s[i]();o.next=function(){return{done:r=!0}},s[i]=function(){return o},t(s)}catch(t){}return r}},322:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},210:t=>{t.exports={}},4742:t=>{t.exports=!0},5172:(t,e,r)=>{var i=r(9191)("meta"),n=r(4401),s=r(5509),o=r(8423).f,a=0,c=Object.isExtensible||function(){return!0},f=!r(1984)((function(){return c(Object.preventExtensions({}))})),u=function(t){o(t,i,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[i].w},onFreeze:function(t){return f&&h.NEED&&c(t)&&!s(t,i)&&u(t),t}}},1411:(t,e,r)=>{var i=r(6670),n=r(8036).set,s=i.MutationObserver||i.WebKitMutationObserver,o=i.process,a=i.Promise,c="process"==r(3417)(o);t.exports=function(){var t,e,r,f=function(){var i,n;for(c&&(i=o.domain)&&i.exit();t;){n=t.fn,t=t.next;try{n()}catch(i){throw t?r():e=void 0,i}}e=void 0,i&&i.enter()};if(c)r=function(){o.nextTick(f)};else if(!s||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);r=function(){u.then(f)}}else r=function(){n.call(i,f)};else{var h=!0,l=document.createTextNode("");new s(f).observe(l,{characterData:!0}),r=function(){l.data=h=!h}}return function(i){var n={fn:i,next:void 0};e&&(e.next=n),t||(t=n,r()),e=n}}},1642:(t,e,r)=>{"use strict";var i=r(5219);function n(t){var e,r;this.promise=new t((function(t,i){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=i})),this.resolve=i(e),this.reject=i(r)}t.exports.f=function(t){return new n(t)}},2087:(t,e,r)=>{var i=r(812),n=r(82),s=r(7956),o=r(4566)("IE_PROTO"),a=function(){},c="prototype",f=function(){var t,e=r(3802)("iframe"),i=s.length;for(e.style.display="none",r(3879).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;i--;)delete f[c][s[i]];return f()};t.exports=Object.create||function(t,e){var r;return null!==t?(a[c]=i(t),r=new a,a[c]=null,r[o]=t):r=f(),void 0===e?r:n(r,e)}},8423:(t,e,r)=>{var i=r(812),n=r(2484),s=r(752),o=Object.defineProperty;e.f=r(8219)?Object.defineProperty:function(t,e,r){if(i(t),e=s(e,!0),i(r),n)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},82:(t,e,r)=>{var i=r(8423),n=r(812),s=r(4311);t.exports=r(8219)?Object.defineProperties:function(t,e){n(t);for(var r,o=s(e),a=o.length,c=0;a>c;)i.f(t,r=o[c++],e[r]);return t}},1033:(t,e,r)=>{var i=r(6569),n=r(6260),s=r(5133),o=r(752),a=r(5509),c=r(2484),f=Object.getOwnPropertyDescriptor;e.f=r(8219)?f:function(t,e){if(t=s(t),e=o(e,!0),c)try{return f(t,e)}catch(t){}if(a(t,e))return n(!i.f.call(t,e),t[e])}},6309:(t,e,r)=>{var i=r(5133),n=r(1743).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return n(t)}catch(t){return o.slice()}}(t):n(i(t))}},1743:(t,e,r)=>{var i=r(5081),n=r(7956).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},9820:(t,e)=>{e.f=Object.getOwnPropertySymbols},6123:(t,e,r)=>{var i=r(5509),n=r(6310),s=r(4566)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},5081:(t,e,r)=>{var i=r(5509),n=r(5133),s=r(4448)(!1),o=r(4566)("IE_PROTO");t.exports=function(t,e){var r,a=n(t),c=0,f=[];for(r in a)r!=o&&i(a,r)&&f.push(r);for(;e.length>c;)i(a,r=e[c++])&&(~s(f,r)||f.push(r));return f}},4311:(t,e,r)=>{var i=r(5081),n=r(7956);t.exports=Object.keys||function(t){return i(t,n)}},6569:(t,e)=>{e.f={}.propertyIsEnumerable},7331:(t,e,r)=>{var i=r(8535),n=r(6438),s=r(1984);t.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],o={};o[t]=e(r),i(i.S+i.F*s((function(){r(1)})),"Object",o)}},9709:(t,e,r)=>{var i=r(6670).parseFloat,n=r(4269).trim;t.exports=1/i(r(459)+"-0")!=-1/0?function(t){var e=n(String(t),3),r=i(e);return 0===r&&"-"==e.charAt(0)?-0:r}:i},5722:(t,e,r)=>{var i=r(6670).parseInt,n=r(4269).trim,s=r(459),o=/^[-+]?0[xX]/;t.exports=8!==i(s+"08")||22!==i(s+"0x16")?function(t,e){var r=n(String(t),3);return i(r,e>>>0||(o.test(r)?16:10))}:i},1704:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},1037:(t,e,r)=>{var i=r(812),n=r(4401),s=r(1642);t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var r=s.f(t);return(0,r.resolve)(e),r.promise}},6260:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},953:(t,e,r)=>{var i=r(2677);t.exports=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:i(t,n,e[n]);return t}},1331:(t,e,r)=>{t.exports=r(2677)},643:(t,e,r)=>{"use strict";var i=r(8535),n=r(5219),s=r(8852),o=r(5838);t.exports=function(t){i(i.S,t,{from:function(t){var e,r,i,a,c=arguments[1];return n(this),(e=void 0!==c)&&n(c),null==t?new this:(r=[],e?(i=0,a=s(c,arguments[2],2),o(t,!1,(function(t){r.push(a(t,i++))}))):o(t,!1,r.push,r),new this(r))}})}},4398:(t,e,r)=>{"use strict";var i=r(8535);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},2074:(t,e,r)=>{var i=r(4401),n=r(812),s=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=r(8852)(Function.call,r(1033).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return s(t,r),e?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:s}},5274:(t,e,r)=>{"use strict";var i=r(6670),n=r(6438),s=r(8423),o=r(8219),a=r(254)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:i[t];o&&e&&!e[a]&&s.f(e,a,{configurable:!0,get:function(){return this}})}},1356:(t,e,r)=>{var i=r(8423).f,n=r(5509),s=r(254)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},4566:(t,e,r)=>{var i=r(6308)("keys"),n=r(9191);t.exports=function(t){return i[t]||(i[t]=n(t))}},6308:(t,e,r)=>{var i=r(6438),n=r(6670),s="__core-js_shared__",o=n[s]||(n[s]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r(4742)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},5614:(t,e,r)=>{var i=r(812),n=r(5219),s=r(254)("species");t.exports=function(t,e){var r,o=i(t).constructor;return void 0===o||null==(r=i(o)[s])?e:n(r)}},3172:(t,e,r)=>{var i=r(9383),n=r(7608);t.exports=function(t){return function(e,r){var s,o,a=String(n(e)),c=i(r),f=a.length;return c<0||c>=f?t?"":void 0:(s=a.charCodeAt(c))<55296||s>56319||c+1===f||(o=a.charCodeAt(c+1))<56320||o>57343?t?a.charAt(c):s:t?a.slice(c,c+2):o-56320+(s-55296<<10)+65536}}},4269:(t,e,r)=>{var i=r(8535),n=r(7608),s=r(1984),o=r(459),a="["+o+"]",c=RegExp("^"+a+a+"*"),f=RegExp(a+a+"*$"),u=function(t,e,r){var n={},a=s((function(){return!!o[t]()||""!=""[t]()})),c=n[t]=a?e(h):o[t];r&&(n[r]=c),i(i.P+i.F*a,"String",n)},h=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(f,"")),t};t.exports=u},459:t=>{t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},8036:(t,e,r)=>{var i,n,s,o=r(8852),a=r(709),c=r(3879),f=r(3802),u=r(6670),h=u.process,l=u.setImmediate,d=u.clearImmediate,p=u.MessageChannel,A=u.Dispatch,g=0,m={},y="onreadystatechange",v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},w=function(t){v.call(t.data)};l&&d||(l=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},d=function(t){delete m[t]},"process"==r(3417)(h)?i=function(t){h.nextTick(o(v,t,1))}:A&&A.now?i=function(t){A.now(o(v,t,1))}:p?(s=(n=new p).port2,n.port1.onmessage=w,i=o(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",w,!1)):i=y in f("script")?function(t){c.appendChild(f("script"))[y]=function(){c.removeChild(this),v.call(t)}}:function(t){setTimeout(o(v,t,1),0)}),t.exports={set:l,clear:d}},2917:(t,e,r)=>{var i=r(9383),n=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):s(t,e)}},9383:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},5133:(t,e,r)=>{var i=r(7001),n=r(7608);t.exports=function(t){return i(n(t))}},181:(t,e,r)=>{var i=r(9383),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},6310:(t,e,r)=>{var i=r(7608);t.exports=function(t){return Object(i(t))}},752:(t,e,r)=>{var i=r(4401);t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},9191:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},218:(t,e,r)=>{var i=r(6670).navigator;t.exports=i&&i.userAgent||""},6096:(t,e,r)=>{var i=r(4401);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},7816:(t,e,r)=>{var i=r(6670),n=r(6438),s=r(4742),o=r(4336),a=r(8423).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},4336:(t,e,r)=>{e.f=r(254)},254:(t,e,r)=>{var i=r(6308)("wks"),n=r(9191),s=r(6670).Symbol,o="function"==typeof s;(t.exports=function(t){return i[t]||(i[t]=o&&s[t]||(o?s:n)("Symbol."+t))}).store=i},5298:(t,e,r)=>{var i=r(4968),n=r(254)("iterator"),s=r(210);t.exports=r(6438).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||s[i(t)]}},8355:(t,e,r)=>{var i=r(8535);i(i.S,"Array",{isArray:r(5461)})},2293:(t,e,r)=>{"use strict";var i=r(2560),n=r(322),s=r(210),o=r(5133);t.exports=r(8839)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},3204:(t,e,r)=>{var i=r(8535);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},6050:(t,e,r)=>{"use strict";var i=r(5933),n=r(6096),s="Map";t.exports=r(9373)(s,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(n(this,s),t);return e&&e.v},set:function(t,e){return i.def(n(this,s),0===t?0:t,e)}},i,!0)},4712:(t,e,r)=>{var i=r(8535);i(i.S+i.F*!r(8219),"Object",{defineProperty:r(8423).f})},1780:(t,e,r)=>{var i=r(4401),n=r(5172).onFreeze;r(7331)("freeze",(function(t){return function(e){return t&&i(e)?t(n(e)):e}}))},8128:(t,e,r)=>{var i=r(6310),n=r(6123);r(7331)("getPrototypeOf",(function(){return function(t){return n(i(t))}}))},6847:(t,e,r)=>{var i=r(6310),n=r(4311);r(7331)("keys",(function(){return function(t){return n(i(t))}}))},4284:(t,e,r)=>{var i=r(8535);i(i.S,"Object",{setPrototypeOf:r(2074).set})},8978:()=>{},5828:(t,e,r)=>{var i=r(8535),n=r(9709);i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},5331:(t,e,r)=>{var i=r(8535),n=r(5722);i(i.G+i.F*(parseInt!=n),{parseInt:n})},1229:(t,e,r)=>{"use strict";var i,n,s,o,a=r(4742),c=r(6670),f=r(8852),u=r(4968),h=r(8535),l=r(4401),d=r(5219),p=r(2832),A=r(5838),g=r(5614),m=r(8036).set,y=r(1411)(),v=r(1642),w=r(1704),b=r(218),x=r(1037),I="Promise",U=c.TypeError,_=c.process,S=_&&_.versions,P=S&&S.v8||"",k=c[I],M="process"==u(_),B=function(){},E=n=v.f,T=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[r(254)("species")]=function(t){t(B,B)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(B)instanceof e&&0!==P.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),F=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},C=function(t,e){if(!t._n){t._n=!0;var r=t._c;y((function(){for(var i=t._v,n=1==t._s,s=0,o=function(e){var r,s,o,a=n?e.ok:e.fail,c=e.resolve,f=e.reject,u=e.domain;try{a?(n||(2==t._h&&L(t),t._h=1),!0===a?r=i:(u&&u.enter(),r=a(i),u&&(u.exit(),o=!0)),r===e.promise?f(U("Promise-chain cycle")):(s=F(r))?s.call(r,c,f):c(r)):f(i)}catch(t){u&&!o&&u.exit(),f(t)}};r.length>s;)o(r[s++]);t._c=[],t._n=!1,e&&!t._h&&O(t)}))}},O=function(t){m.call(c,(function(){var e,r,i,n=t._v,s=z(t);if(s&&(e=w((function(){M?_.emit("unhandledRejection",n,t):(r=c.onunhandledrejection)?r({promise:t,reason:n}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",n)})),t._h=M||z(t)?2:1),t._a=void 0,s&&e.e)throw e.v}))},z=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){m.call(c,(function(){var e;M?_.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),C(e,!0))},N=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw U("Promise can't be resolved itself");(e=F(t))?y((function(){var i={_w:r,_d:!1};try{e.call(t,f(N,i,1),f(D,i,1))}catch(t){D.call(i,t)}})):(r._v=t,r._s=1,C(r,!1))}catch(t){D.call({_w:r,_d:!1},t)}}};T||(k=function(t){p(this,k,I,"_h"),d(t),i.call(this);try{t(f(N,this,1),f(D,this,1))}catch(t){D.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(953)(k.prototype,{then:function(t,e){var r=E(g(this,k));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=M?_.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),s=function(){var t=new i;this.promise=t,this.resolve=f(N,t,1),this.reject=f(D,t,1)},v.f=E=function(t){return t===k||t===o?new s(t):n(t)}),h(h.G+h.W+h.F*!T,{Promise:k}),r(1356)(k,I),r(5274)(I),o=r(6438)[I],h(h.S+h.F*!T,I,{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!T),I,{resolve:function(t){return x(a&&this===o?k:this,t)}}),h(h.S+h.F*!(T&&r(7899)((function(t){k.all(t).catch(B)}))),I,{all:function(t){var e=this,r=E(e),i=r.resolve,n=r.reject,s=w((function(){var r=[],s=0,o=1;A(t,!1,(function(t){var a=s++,c=!1;r.push(void 0),o++,e.resolve(t).then((function(t){c||(c=!0,r[a]=t,--o||i(r))}),n)})),--o||i(r)}));return s.e&&n(s.v),r.promise},race:function(t){var e=this,r=E(e),i=r.reject,n=w((function(){A(t,!1,(function(t){e.resolve(t).then(r.resolve,i)}))}));return n.e&&i(n.v),r.promise}})},7863:(t,e,r)=>{"use strict";var i=r(3172)(!0);r(8839)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})}))},9626:(t,e,r)=>{"use strict";var i=r(6670),n=r(5509),s=r(8219),o=r(8535),a=r(1331),c=r(5172).KEY,f=r(1984),u=r(6308),h=r(1356),l=r(9191),d=r(254),p=r(4336),A=r(7816),g=r(6473),m=r(5461),y=r(812),v=r(4401),w=r(6310),b=r(5133),x=r(752),I=r(6260),U=r(2087),_=r(6309),S=r(1033),P=r(9820),k=r(8423),M=r(4311),B=S.f,E=k.f,T=_.f,F=i.Symbol,C=i.JSON,O=C&&C.stringify,z="prototype",L=d("_hidden"),D=d("toPrimitive"),N={}.propertyIsEnumerable,j=u("symbol-registry"),W=u("symbols"),V=u("op-symbols"),R=Object[z],Z="function"==typeof F&&!!P.f,H=i.QObject,K=!H||!H[z]||!H[z].findChild,G=s&&f((function(){return 7!=U(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a}))?function(t,e,r){var i=B(R,e);i&&delete R[e],E(t,e,r),i&&t!==R&&E(R,e,i)}:E,$=function(t){var e=W[t]=U(F[z]);return e._k=t,e},Y=Z&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},q=function(t,e,r){return t===R&&q(V,e,r),y(t),e=x(e,!0),y(r),n(W,e)?(r.enumerable?(n(t,L)&&t[L][e]&&(t[L][e]=!1),r=U(r,{enumerable:I(0,!1)})):(n(t,L)||E(t,L,I(1,{})),t[L][e]=!0),G(t,e,r)):E(t,e,r)},J=function(t,e){y(t);for(var r,i=g(e=b(e)),n=0,s=i.length;s>n;)q(t,r=i[n++],e[r]);return t},Q=function(t){var e=N.call(this,t=x(t,!0));return!(this===R&&n(W,t)&&!n(V,t))&&(!(e||!n(this,t)||!n(W,t)||n(this,L)&&this[L][t])||e)},X=function(t,e){if(t=b(t),e=x(e,!0),t!==R||!n(W,e)||n(V,e)){var r=B(t,e);return!r||!n(W,e)||n(t,L)&&t[L][e]||(r.enumerable=!0),r}},tt=function(t){for(var e,r=T(b(t)),i=[],s=0;r.length>s;)n(W,e=r[s++])||e==L||e==c||i.push(e);return i},et=function(t){for(var e,r=t===R,i=T(r?V:b(t)),s=[],o=0;i.length>o;)!n(W,e=i[o++])||r&&!n(R,e)||s.push(W[e]);return s};Z||(a((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(r){this===R&&e.call(V,r),n(this,L)&&n(this[L],t)&&(this[L][t]=!1),G(this,t,I(1,r))};return s&&K&&G(R,t,{configurable:!0,set:e}),$(t)})[z],"toString",(function(){return this._k})),S.f=X,k.f=q,r(1743).f=_.f=tt,r(6569).f=Q,P.f=et,s&&!r(4742)&&a(R,"propertyIsEnumerable",Q,!0),p.f=function(t){return $(d(t))}),o(o.G+o.W+o.F*!Z,{Symbol:F});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;rt.length>it;)d(rt[it++]);for(var nt=M(d.store),st=0;nt.length>st;)A(nt[st++]);o(o.S+o.F*!Z,"Symbol",{for:function(t){return n(j,t+="")?j[t]:j[t]=F(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),o(o.S+o.F*!Z,"Object",{create:function(t,e){return void 0===e?U(t):J(U(t),e)},defineProperty:q,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var ot=f((function(){P.f(1)}));o(o.S+o.F*ot,"Object",{getOwnPropertySymbols:function(t){return P.f(w(t))}}),C&&o(o.S+o.F*(!Z||f((function(){var t=F();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,i=[t],n=1;arguments.length>n;)i.push(arguments[n++]);if(r=e=i[1],(v(e)||void 0!==t)&&!Y(t))return m(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Y(e))return e}),i[1]=e,O.apply(C,i)}}),F[z][D]||r(2677)(F[z],D,F[z].valueOf),h(F,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},2223:(t,e,r)=>{r(643)("Map")},4674:(t,e,r)=>{r(4398)("Map")},8337:(t,e,r)=>{var i=r(8535);i(i.P+i.R,"Map",{toJSON:r(5874)("Map")})},2639:(t,e,r)=>{"use strict";var i=r(8535),n=r(6438),s=r(6670),o=r(5614),a=r(1037);i(i.P+i.R,"Promise",{finally:function(t){var e=o(this,n.Promise||s.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then((function(){return r}))}:t,r?function(r){return a(e,t()).then((function(){throw r}))}:t)}})},6121:(t,e,r)=>{"use strict";var i=r(8535),n=r(1642),s=r(1704);i(i.S,"Promise",{try:function(t){var e=n.f(this),r=s(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},2860:(t,e,r)=>{r(7816)("asyncIterator")},716:(t,e,r)=>{r(7816)("observable")},7914:(t,e,r)=>{r(2293);for(var i=r(6670),n=r(2677),s=r(210),o=r(254)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var f=a[c],u=i[f],h=u&&u.prototype;h&&!h[o]&&n(h,o,f),s[f]=s.Array}},6801:(t,e,r)=>{var i=r(8535),n=r(8036);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},3945:t=>{t.exports="AGFzbQEAAAABKQhgAn9/AGACf34AYAJ/fQBgAn98AGABfwF/YAF/AX5gAX8BfWABfwF8AhIBA2VudgZtZW1vcnkCAwGAgAQDDw4AAAABAgMEBAQEBAUGBweIAQ4Gd3JpdGU4AAAHd3JpdGUxNgABB3dyaXRlMzIAAgd3cml0ZTY0AAMId3JpdGVmMzIABAh3cml0ZWY2NAAFBXJlYWQ4AAYGcmVhZFU4AAcGcmVhZDE2AAgHcmVhZFUxNgAJBnJlYWQzMgAKBnJlYWQ2NAALB3JlYWRmMzIADAdyZWFkZjY0AA0KfQ4JACAAIAE6AAALCQAgACABOwEACwkAIAAgATYCAAsJACAAIAE3AwALCQAgACABOAIACwkAIAAgATkDAAsHACAALAAACwcAIAAtAAALBwAgAC4BAAsHACAALwEACwcAIAAoAgALBwAgACkDAAsHACAAKgIACwcAIAArAwAL"},8632:(t,e,r)=>{r(7149)},5249:(t,e,r)=>{t.exports=r(7172)},662:(t,e,r)=>{t.exports=r(2861)},6681:(t,e,r)=>{t.exports=r(2696)},7403:(t,e,r)=>{t.exports=r(2948)},5019:(t,e,r)=>{t.exports=r(2160)},9736:(t,e,r)=>{r(7567)},1919:(t,e,r)=>{t.exports=r(1724)},8032:(t,e,r)=>{t.exports=r(7279)},2348:(t,e,r)=>{t.exports=r(5216)},4001:(t,e,r)=>{t.exports=r(4750)},4236:(t,e,r)=>{t.exports=r(1707)},5062:(t,e,r)=>{t.exports=r(6560)},134:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(2696),n=r(7361);function s(t,e,r){return(e=(0,n.A)(e))in t?i(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},1908:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(3509),n=r(9967);function s(t,e){if("object"!=(0,i.A)(t)||!t)return t;var r=t[n];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=(0,i.A)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}},7361:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(3509),n=r(1908);function s(t){var e=(0,n.A)(t,"string");return"symbol"==(0,i.A)(e)?e:String(e)}},3509:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var i=r(6560),n=r(4220);function s(t){return s="function"==typeof i&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t},s(t)}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return(()=>{"use strict";r.d(i,{default:()=>g});var t=r(134),e=r(932),n=r(4624),s=r(2174),o=r(5336),a=r(5597),c=r(4315),f=r(7837),u=r(1517),h=r(4686),l=r(2647);class d{constructor(){(0,t.A)(this,"list",[])}enqueue(t){this.list.push(t),1===this.list.length&&this.executeNext()}dequeue(){return this.list.shift()}clear(){this.list=[]}executeNext(){const t=this.dequeue();t&&(t.executor(),console.log("task done, execute next..."),this.executeNext())}}function p(t){let r=(0,u._5)();e.M[20](r,t.buf),e.M[17](r+8,t.pts),e.M[17](r+16,t.dts),e.M[15](r+28,t.size),e.M[15](r+32,t.streamIndex),e.M[17](r+48,BigInt(0)),e.M[15](r+72,t.timeBase.num),e.M[15](r+76,t.timeBase.den),e.M[15](r+80,t.bitFormat),e.M[15](r+36,t.flags);const i=(0,f.sY)(t.size);return(0,h.lW)(i,t.size,t.data),(0,u.NX)(r,i,t.size),r}function A(t){return BigInt(Math.floor(t))}const g=class{constructor(e){(0,t.A)(this,"ctx",void 0),(0,t.A)(this,"processingId",void 0),(0,t.A)(this,"pendingEOF",!1),(0,t.A)(this,"partBufferList",[]),(0,t.A)(this,"queue",new d),(0,t.A)(this,"onResult",void 0),(0,t.A)(this,"config",void 0),this.config=e,this.onResult=e.onResult.bind(this)}remuxTS(t){this.queue.enqueue({dataSource:t,executor:()=>{this.ctx&&this.reset(),this.init(this.config,t),this.pendingEOF=!1,this.processingId=t.id,this.interleaveWriteAV(t),this.pendingEOF=!0,s.dJ(this.ctx)}})}flush(){s.bX(this.ctx),this.partBufferList=[]}destroy(){this.flush(),this.ctx.destroy(),this.ctx=null,this.queue.clear(),this.queue=null}reset(){this.flush(),this.ctx.destroy(),this.ctx=null}interleaveWriteAV(t){(function(t,e){let r=[],i=0,n=0;for(;i<t.length&&n<e.length;)t[i].dts<e[n].pts?(r.push(t[i]),i++):(r.push(e[n]),n++);for(;i<t.length;)r.push(t[i++]);for(;n<e.length;)r.push(e[n++]);return r})(t.videoTrack.samples,t.audioTrack.samples).forEach((e=>{e.pes?this.writeVideo(e,t.videoTrack.inputTimeScale):this.writeAudio(e,t.audioTrack.inputTimeScale)}))}writeVideo(t,e){let r=p({pts:A(t.pts),dts:A(t.dts),data:t.pes,size:t.pes.byteLength,streamIndex:this.ctx.getStreamByMediaType(0).id,timeBase:{num:1,den:e},bitFormat:2,flags:t.key?1:0});s.XA(this.ctx,r)}writeAudio(t,e){let r=p({pts:A(t.pts),dts:A(t.pts),data:t.unit,size:t.unit.byteLength,streamIndex:this.ctx.getStreamByMediaType(1).id,timeBase:{num:1,den:e},flags:1});s.XA(this.ctx,r)}init(t,e){if(2!==t.outputFormat)return void n.z3("outputFormat is not MPEGTS","src/export/mux.ts",136);const r=new o.A,i=new a.A;this.ctx=(0,c.fG)(),this.ctx.ioWriter=r,this.ctx.oformat=i,this.partBufferList=[],r.onFlush=(t,e)=>(this.partBufferList.push(t.slice(0)),this.pendingEOF&&(this.onResult({id:this.processingId,data:(0,l.A)(Uint8Array,this.partBufferList)}),this.partBufferList=[]),0),r.onSeek=t=>0,this.addStream(t,e),s.ho(this.ctx),s.bx(this.ctx)}addStream(t,e){if(t.hasVideo){const t=this.ctx.createStream();t.codecpar.codecId=27,t.codecpar.codecType=0}if(t.hasAudio){const t=e.audioTrack,r=this.ctx.createStream();r.codecpar.codecId=86018,r.codecpar.codecType=1,r.codecpar.sampleRate=t.samplerate||44100,r.codecpar.chLayout.nbChannels=t.channelCount||2,r.codecpar.profile=this.getAACprofile(t.codec)}}getAACprofile(t){var e;let r=0;switch(null===(e=t.match(/mp4a.40.(\d+)/))||void 0===e?void 0:e[1]){case"1":r=1;break;case"2":default:r=2;break;case"3":r=3;break;case"4":r=4;break;case"5":r=5;break;case"6":r=6;break;case"32":r=32;break;case"33":r=33;break;case"34":r=34}return r}}})(),i.default})()));